Possitve Sentiment	Negative Sentiment	Comment Body
1	1	GSM isn't in the original list which is why it isn't in the enum.
1	1	Since we are not really using any methods from Collections, and only iterating through elements, having String arrays is good enough.
1	2	We very much prefer to not record that information in the source tree, the change history contains that information.
2	2	Yeah, we can file a bug against android or just fix it and submit a patch.
3	2	when i was suggesting flipping the boolean, i did also wonder whether we wouldn't be better off just passing in the length. if it's <= 0, interpret that as ""don't know""? that would then move 8192 down out of the callers too.

or... i really like the way you went for readFully rather than implementing the missing read()s, which is what i'd actually imagined. how about we go one further and just have a static fromFile or similar? then it could do the stat, and have everything it needs. you could even use Libcore.os open/fstat/read/close to avoid the RandomAccessFile without increasing the overall amount of code.
4	1	Ohhh. I have a white background, so I didn't catch the yellow highlight. Thanks!
1	1	The code in this library was generated by emugen and then manually modified ('vi' transformations) to match this library need. This code will be replaced with driver implementation.
2	1	Per our discussion, make this a class that's just the combobox? Maybe like AndroidApiCombo?
2	1	I believe adding ""x"" is a safety measure for corner cases, and run-test itself uses it heavily. We should probably be consistent, but follow-up CL.
2	2	Don't introduce new types unless you truly need them; they are supposed to be equivalence classes, and the more you define, the larger the policy will grow (GS4 policy has significant bloat due to unnecessary types that get _exactly_ the same allow rules as existing types).
1	1	similar to previous diff; this is just moving the crop state from an SWT Button state to a flag in the wizard state object
3	1	Yep, this is now removed and Checker uses the c1 format. The pretty printer could be removed once the existing gtests are replaced.
2	1	if we've got this, do we still need the flag?

this field should probably be called something more like ""allocated_stack_size"".
2	1	I think the cleanest style here would be to make this:
class_linker->IsCompiledImageMethod(m)
and then embed MayBe... into ClassLinker as IsCompiledImageMethod. It'd be nice to avoid exposing the debugger to inner notions of oat files.
1	1	Just a question: Does ant use ; as a path separator on all platforms, or should you use File.pathSeparator (which will be : on Windows) ?
1	1	Should I still indent one more if I move line 150 to line 149?  I guess the expected pattern is:

  foo
    ? bar
    : baz;
1	1	I wonder why jetbrains repeats this code in all their bundles.
1	2	Point-of-fact: it was the wait feature that you now find workable from Python... The '--nowait' argument disables that new feature, reverting back to prior behavior.
2	1	Either you don't need these brackets, or you need brackets above where you do:

if(icmp->type != ICMP_ECHO && icmp->type != ICMP_ECHOREPLY) {

Can you make the two consistent?
2	2	Added tests for other resource type.

I feel there should be a test that ensure the issue in the bug is resolved.  It also verifies that the generated.xml can at least run through aapt.
2	3	Doing this will trigger mOnDateChangedListener to be fired twice. Please put a guard to avoid that (see the listener above on mDayPicker.)
3	1	On 2008/11/11 10:23:37, David Turner wrote:
> hmm, this is a bit hard to understand. May I suggest you to replace it with the
> following:
> """"""
> XXX: the !/bin/bash invocation on the first line has been
>      commented out because it doesn't work on FreeBSD
>      (which uses /usr/local/bin/bash, instead of /bin/bash)
> 
>      note that, with this comment, this script is invoked
>      with the right bash shell from build/core/main.mk
> """"""
> 

Well, your version is more easy to understand. I'll replace comment in ammended commit.
1	1	Yes, I uncommented the code for diagnostics and discovered that it depended on an import of IssueRegistry. So I just added it as a FQN here so I won't need to reimport it next time I uncomment this block.
2	2	Also explain in this file why the compiler was failing, and dx's smart/dumb behavior.
1	1	We tried to avoid include the large block in #if ... #else... #endif. :).

And does this change break MIPS? Our change will not impact MIPS.
3	1	This class should be for launch specific utilities, but I agree with you, it makes sense to consolidate until it becomes unwieldy.
2	2	Actually this is tricky to use an enum because this is going to be mostly dynamic based on the content of the images folder.
1	2	i think you really want a pthread_once_t here instead, unless i'm misunderstanding what you're trying to do.
2	2	who uses this method ? I don't see why this is useful. I'd just get rid of this method and the associated field.

Once you do that, you can just collapse this class into a single static method (runAll) and get rid of the Pair class.
3	1	Thanks Ian, I was not aware of this. Created b/15574371.
2	1	Right, but a single block can still contain many instructions.  And short/simple methods may nevertheless be called often.  So this code could be run over and over gratuitously.

Actually, it may be even more interesting to cache the larger information ""can (should?) this method be inlined?"" (at least, the bits that only depend on the callee, not the caller).
2	1	I prefer the increased type safety of enum classes.
1	2	I disabled these with 
pass_manager_options->SetDisablePassList(""GVN,DCE"") in jit_compiler.cc, there wasn't an option for kLocalValueNumbering.
1	1	In which case, shouldn't the code just say that all other open projects should already have their SDK's pointing to the SDK used by the IDE?

i.e., now that we do this, we shouldn't have to modify other projects, only this project since all others should already be in sync.

The fishy part here is just that choosing something in a project import dialog affects other projects which doesn't make sense. If you want that experience, then the dialog should be more of a global IDE preference.
2	2	Yes, it is a bug in adb, no ambiguity here, but it's really subtle, so it'd be nice to have a better description of the problem, it's not really Python specific as you mention, i.e. something like:

""""""
Some programs want to launch an adb command and collect its output by calling CreateProcess with inheritable stdout/stderr handles, then using read() to get its output. When this happens, the stdout/stderr handles passed to the adb client process will also be inheritable.

When starting the adb server here, care must be taken to reset them to non-inheritable.

Otherwise, something bad happens: even if the adb command completes, the calling process is stuck while read()-ing from the stdout/stderr descriptors, because they're connected to corresponding handles in the adb server process (even if the latter never uses/writes to them).
""""""

The PROC_THREAD_ATTRIBUTE_HANDLE_LIST isn't directly related to the problem, and not needed in this specific case because I don't think there are multiple threads being used in the adb client process (at least when reaching this code). It's probably better to avoid mentioning it, or add a note like ""ideally, use PROC_THREAD_ATTRIBUTE_HANDLE_LIST if running on Vista or higher""
1	2	> Can we have 32-bit processes calling into a 64-bit BufferQueue or vice-versa?

The 32-bit process would be calling in to a different BufferQueue, right?
2	1	Please document these. is_precise is we know the exact type? Would 'exact' be clearer?
2	1	Not related, but may be better to move to constructPorperty(String suffix) or something like that.
1	3	Let's avoid having commented out code.  Delete the DCHECK (which looks wrong to me anyway - you certainly could have a const index, but backends are under no obligation to take advantage of that information.
1	1	we have audio_data_file and so this can be changed to that.
1	1	We don't need this line any more. Or we could keep this here and use it instead of calling parseInt in the five instances below.
1	1	call the function, pass the device also into the function
1	2	Anything that needs to run in the UI thread needs to be wrapped this way, otherwise the IDE complains. It is in the UI testing doc I sent you: https://docs.google.com/a/google.com/document/d/1UBVjIEYXoNVZeYT1NKjqPhCYSkU-X2lWVCrFHbXnPnM/edit?usp=sharing
1	1	i don't think this is ever defined on Android. it's a BSD thing.
1	2	Maybe pick a different name to avoid a collision with the field of the same name in Main?
1	1	Could you factor the whole function out into reboot_service_impl so we don't need to gotos?
1	1	a table of function pointers sounds good right about now...
2	2	You're right. The issue is that the onSampleSelected() callback uses the Combo index to fetch the sample from mSamplePath, so the way you have it they don't match (if you try, selecting a sample will load a different one). The trivial solution is to sort mSamplePaths alphabetically like it should have been done in the first place anyway (my fault for forgetting that).
1	1	Changed from heap to stack based allocation, will now only allocate enough to hold idmap header.
2	1	performTransaltion has different purpose. If scale is less than equal to 1 we will not perform transaltion. 
If the device doesn't support multi touch we need not go into this block and skip the execution of the next six lines, hence it was added here.
2	1	Please use double quotes for EGL/egldefs.h and log/log.h. These headers are now local. Same comment for other files including them.
3	1	OH, I forgot your that CL :-)
However STLPORT_WHITELIST isn't defined yet at this point.
In config.mk it loads envsetup.mk (which eventually loads the product makefiles) before it defines STLPORT_WHITELIST.
On the other hand, we can remove libstlport from this file, and add it to specific device's makefile, such as device/asus/flo/device-common.mk. I'd really like to keep the device names out of the build project.
1	1	maybe this runnable needs to run after the previous one's onSuccess?
1	2	We would prefer to keep this.  It is possible for the RILD and radio code to pass the sequence number through into radio state as the request is being acted on - the RILD may notice the socket error and re-establish the connection and then the response comes back from the radio with the old sequence number and get's passed back through the newly-connected RILD.

Just because your implementation may not do this, we can imagine other OEMs passing back obsolete responses that would match a newly-zero'd RIL sequence number and confuse things.

Couldn't you just remember the first sequence number your RILD connection received?  Then you know the number of requests you've received.
3	4	My only worry here is that future c or assembly versions of memcmp16 might use x14, x15. I have used a more conservative approach in my tree:


1852 .Ldo_memcmp16:
1853     /* save lr, and return value if comparison equal */
1854     stp x0, x30, [sp, #-16]!
1855 
1856     /* set-up args for __memcmp16 */
1857     mov x0, x2
1858     uxtw x2, w3
1859 
1860     bl __memcmp16
1861 
1862     /* restore lr, and return value if comparison equal */
1863     ldp x1, x30, [sp], #16
1864 
1865     /* if the strings are equal (i.e. x0 == 0) then return length comparison */
1866     cmp x0, #0
1867     csel x0, x1, x0, eq
1868 
1869     ret
1870 END art_quick_string_compareto
1	1	nit: I would say ""a dex file"" because we're not talking about the DexFile type here.
1	2	Actually, I realized late last night that it probably didn't make sense to specify the damage using frects, since the damage is defined on pixel boundaries (I was originally thinking frect because sourceCrop is a frect, but that's not exactly analagous).

I think this should be hwc_rect_t. That probably implies that we should use hwc_region_t, except that size_t is way overkill and will eat another 8 bytes in 64-bit relative to this (since we're currently getting the uint32_t for free because of padding).
1	2	That's just the thing; I don't have a bug report. Somebody complained on Google+ that setting this attribute has the undesirable side effect of killing onClick attributes; when I asked Roman if he knew anything about this (we had discussed textIsSelectable before, in the context of adding them to the default templates) he mentioned he had also seen some weirdness around these, but didn't have details.

I should dig deeper, but since I'm swamped with some other work I figured it was better to just disable this check until I know more. (It's actively suggesting users set an attribute that apparently isn't always the right thing.)
1	2	It seems to me to be the case. There is a bug:
https://b.corp.google.com/issues/17586779
shertz probably knows more about it.
1	1	Technically missing spaces before/after the parentheses. Would be good to fix in a future upload, if there's a chance. See also the while() a few lines below.
1	2	No. The exception is needed so it is rethrown if the user decides to cancel. User can only see exception stack trace in the log.
1	1	If this is considered a development tool and not a production tool, it should have LOCAL_MODULE_TAGS := eng
2	1	Please place functions in <code></code> tags throughout.
1	1	Why do need $(installed_odex) even if LOCAL_DEX_PREOPT is unset?
1	1	I don't understand why you need the boolean. This should be new_rti.SetTop(); new_rti.SetInexact().
1	1	maybe update this comment to give an example of the unparseable credentials.
2	2	This depends on how we define the ABI. For function prototype like ""void foo(float a, double b, float c);"".

Now the argument registers would be ""a(s0), b(s2/s3=d1), c(s1)"".

We could remove this unless we define ABI to use argument registers like ""a(s0), b(s2/s3=d1), c(s4)""
1	1	Yes, according to 3GPP TS 31.102, the alpha identifier is optional for ADN and SDN as well as FDN.
2	1	that's always going to say ""Out of memory"", which is definitely an improvement, but how about something like:

  ""new failed to allocate %zu bytes"", size
  ""new[] failed to allocate %zu bytes"", size
1	2	These calls don't do the same thing.  As a result, lockNow() must be called unconditionally.
1	1	Roger that. I'll look into using PackageParser.Package and change the necessary code.
1	2	Damn it, that wasn't supposed to be there. I'll remove it.
1	1	If we converted helper code to Groovy, we would have the Elvis operator. And closures to handle the try+finally+close idiom. Just sayin' ;)
1	2	Unfortunately, I originally grabbed the 3.17 headers. The 3.16.1 headers don't include getrandom.
1	2	get rid of temporary memory allocation, okay to inline the code for getQuaternionFromVector here.
1	1	I think he's looking for the exact string ""h"", the 2 is to count the terminating 0 at the end.
1	1	Element. This one stuck out. I think the only ones to try to capitalize are ""Allocation, Type, Element"", since that trio is the dominant set of APIs for interacting with any sort of data from Java.
2	1	How about making MapAnonymous return null so that we only need the single check that table_mem_map_.get() != nullptr.
1	1	ditto. Never observed, not found anywhere => removed. DCHECK inside HUseListNode::Remove will fail if this occurs.
1	2	Just call Assert.fail

(Extra credit for static import)
1	1	If this need to be public, can we have a short doc comment?
1	1	Hmm, I take it back.
in_egroup_p(AID_NET_RAW) only checks the groups,
but capable(CAP_NET_RAW) also checks the real capability.
2	2	That's not what I was saying. Just like
public static float getMdpiScaleFactor(Density density) {
 if (density == Density.ANYDPI) {
   density = Density.XXHIGH.getDpiValue();
 }
 return density.getDpiValue() / (float) Density.MEDIUM.getDpiValue();
}

But whatever, it's not a big deal.
2	1	What's the correct thing for things exec'd from init?

I assume we can use logwrapper if we need to.
2	1	Currently the array is always allocated with new if own_arrays_ is true. Also delete nullptr is defined to be a NOP.
2	1	we might want to support Z here, since that's coming in a day or two
3	2	That is great - it also means you can move that line outside of the if/else.

You also need another in6_addr: you have to have both dest and gateway (though for default and host you only use one or the other).  Same is needed in the v4 case.
1	1	Just curious, how come you use a RandomAccessFile here? It might be simpler to just Guava (which lint already depends on):
String firstLine = Files.readFirstLine(file, Charsets.US_ASCII);
(that's com.google.common.io.Files)
1	1	Templatizing this would make the change smaller, as you don't need to make it a member function.
3	1	Agree displayable is not ideal. Looking for something that means ""not internal"". How about getNonInternalFieldModifiers()?

Given they're hidden APIs / internal comments I suggest not wasting any time on this: my point is the comment is not as clear to me as I think it could be.

Feel free to act on the suggestion or ignore. The later draft is clearer.
2	1	How about:
while (next != null && next->asPhi()->GetRegNumber() == reg_number) {
  if (next->GetType() == GetType()) return next;
  next = next->GetNext();
}
return nullptr;
3	1	No, but its impact is pretty minimal so I wouldn't worry about it.
2	1	This won't work in multlib build.
You need to turn it into a target-specific variable (like the PRIVATE_TARGET_LIBATOMIC). Or can we merge PRIVATE_TARGET_LIBATOMIC, PRIVATE_TARGET_LIBGCOV and PRIVATE_TARGET_LIBGCC to a single PRIVATE_ variable?
2	3	i think we're better off just taking the auto-generated stub like we did in the original patch. it doesn't hurt anyone that there's dead code at the end because the syscall never returns, and it's arguably more confusing to be insisting on supplying our own stub.
1	1	You will have to show me how to edit the commit message.
1	1	any reason why not using a inner class of the PackageApplication class to keep things co-located ?
1	1	This doesn't do any correctness tests of the file, while a start that they exist, I could just be touch'ing files.
1	2	We can go back and change this to the char* version if it gets too difficult to figure out what's going on.
1	1	If you are currently on 0.10,+ you won't see the message. This only appears only when coming from 0.8 or earlier.
2	1	why? we removed prelinking for a very specific reason (security), and I don't think we want to put it back in the platform.
2	2	s/exit/continue/

Exiting the loop doesn't do a final update of v. The write to conflict with this read must happen during the setup for a subsequent iteration. 

This one does bother me. To be clear, what's going on is:

v = a[0]
go func() { x = v }()
v = a[1]
go func() { y = v }()

There is no race involving the second goroutine, since its read is guaranteed to happen after the write of v = a[1]. The race is between the x = v and the v = a[1]. I don't understand why the race detector does not detect that misordering 100% of the time. I filed #10589 about this. At least this fixes the build so that we can detect future breakages while Dmitriy thinks about this one.
2	2	since the spec says that the same format should be used for both critical options and extensions, I named the structures:
optionsTuple, optionsTupleValue, and optionsTupleEmptyValue (I believe I needed the latter to marshal extensions with empty values where there is no double length prefix) - starting at Line 89 of certs.go.   I used them in the marshalTuples and parseTuples.  Regarding unmarshaling - please take a look at the current version, I wanted to use the same function for critical options and extensions, and to handle properly empty and non-empty values I believe some ""low-level"" handling is needed.  I used an instance of optionsTupleValue structure to pass to Unmarshal (Line 186).
1	1	s/Test/test/

keep all lowercase (or make it a real sentence and end in period).
1	2	Yeah, I used that in other places. You're right it doesn't make much of a difference: no difference for norm and about 20% or 20k for the language tables.
I've simplified the code and also now use NewFormattedFileWriter in all the other places where I'm used go/format before. See the diff of language/table.go to see how it is affected (will first do the IANA update separately).

Unfortunately, this increases the diff a lot. Again in language/tables.go. But you can verify the data itself didn't change by looking at the checksum at the bottom.
2	2	No. I did find it useful to fail a test case from a fake server implementation when the client in the main goroutine does an invalid request but since this is not desired behavior, I abandoned the change.
1	2	Omit the err at the end.  Its the result of the last possible test making it probably meaningless and possibly misleading.
2	2	The idea was that if we are in the _GCmark phase and a goroutine is no longer _Grunning then do the scan now instead of waiting and doing it in the STW _GCmarktermination phase. Upon reflection I now have concerns about slowing down the preemption. I'm deleting this until we see a valuable use case.
1	2	Sorry, wasn't paying enough attention to the context (clearly the param is moved to the heap) and instead assumed that if esc was not EscHeap, that therefore it was not ""heap"".
1	1	you should implement a new (private) type here which implements UnmarshalJSON and check for a string or int (not a float64) in your unmarshal func, returning an error if it's unexpected (e.g. a JSON Object or a bool, which you don't handle below)
1	1	s/importsSet/pkgSet/

should explain that this set is only needed so we can create an duplicate free pkgList
1	2	Isn't the Config callback sufficient? It sounds tricky that a returned Config is valid only until the Config callback is called. If possible I prefer limiting the Config's life inside the Config callback and letting users maintain a copy of some info based on need.
2	1	the previous event may not be traceEvGoCreate, like this scenario:
when trace start goroute is in syscall and then exitsyscall and finally goStart.
For this case, we can't access the stack information because the previous event is traceEvGoSysExit which doesn't contain the stack.
I just think out a solution:
when we receive a traceEvGoSysExit, we reserve the gocreate event by link it and access it here. But I don't know if there are any other cases or any side effect, any idea?
1	1	Yep, I've merged the two into |supportedSignatureAlgorithms|.
1	1	I still think this needs a comment explaining the out-of-order argument set up.
2	2	You can open as many issue tickets as you like. But we would still have to add all these tests in here, and find solution that fit them. Why delay?
3	1	> The flag package is ideally only imported in main.

Where did this notion of ""ideal"" come from?  The advice I usually hear (and give) is: don't register flags except from the main package, because you're mutating a global variable.

This utility function doesn't touch any global variables.  Isn't its purpose pretty obvious from the usage example above?
2	2	Allocation is also a big part of the cost here. I did a quick benchmark, and sort accounts for about 50% of the running time. Replacing the allocation with "	

   a := make([]string, 0, len(labelMap))

reduces the running time a bit, after which sort accounts for 60%.  So it is a bit slower, but not significantly. Not using sort would require creating a separate table, which I don't think is worth it. 

The main reason to use sort, though, is to give a consistent return value (iterating a map is randomized). I could simply drop the sorted guarantee and return them in randomized order. At some point I would like to replace this map (and all maps in the text repo) with compact sorted lists, as some of the code already does, as I expect this is more efficient (both time- and space-wise).

Should I drop the sort altogether?
1	1	I think the bytes.Buffer version was more readable.
2	2	This || breaks -e. If you need this information you need to reimplement -e yourself.

if ! go build -a std; then
    failed=true
    if $sete; then
        exit 1
    fi
fi
2	2	Is this the right API? An alternative is:

func If(s RuneSet, tTrue, tFalse Transformer) Transformer

type RuneSet interface {
  Contains(rune) bool
}

and have unicode.RangeTable implement this interface.

If performance is a concern, the If function could do a type assertion to see if s is a *unicode.RangeTable, and switch to an optimized implementation, the same way that the image/draw package does in the stdlib.

But I'm not sure if we even want a Ranges or If. The point of the Transformer interface is to transform things in bulk. If you're going to be chopping between two separate transformers depending on the input runes, then it seems like you're not getting the benefit of transforming in bulk. Instead, I'd just loop over the input and append to a []byte. It's not like you have some input that contains both Code Page 437 and Shift-JIS and you want to switch between them. Your phone number Ranges example seems a bit contrived, and again, I'd just for/range over the string for that particular task. As for title-casing latin but not greek, is that something that people really want to do??

I wonder what Rob thinks. Can you start a separate e-mail thread just for API design?
1	1	In code this will read ""mgr.Mgr"". If move to svc package, it would read ""svc.Mgr"". Also, Let's just name in Manager so: ""svc.Manager"".
3	1	Because total bytes of addrs should be greater than size.
2	2	Does this really work for floating point too? I believe the * -1 was there to make sure that things like 0 becoming negative 0 worked. Please check.
1	1	We only have islibrary available right now, set by the linker when linked with '-shared'.

Or are you making a subtler point that we shouldn't forward for shared libraries as well?
3	2	Add a test case for a package whose base name is not a valid identifier, e.g.,

""foo/bar-v2.0""

since people do actually do this.
It's fine to reject it for now, so long as the error is clear.
2	1	How about to change above line like below?

trun(t, gt.client, ""git"", ""checkout"", ""-b"", ""newbranch"", ""origin/master"")
2	1	Since you are rewriting the entire file anyway, please try to put callers before callees, in general, so that reading the file top to bottom you usually know what a function is for when you see it. So:

gen
casebody
caseClauses
genCases
1	1	s/=/ = /

(no need to squeeze everything w/o blanks to ease readability)
1	1	I would unify gcclock and gcmaxclock in to a gcTimes struct and then have three variables:

  var gcVerbose int64
  var gcTotalTimes, gcMaxTimes gcTimes

Most of the fields are the same.  on becomes gcVerbose (""on"" didn't really belong in a clock structure anyway).  Count and start don't seem to be used anywhere.  Maxpause is just the max of gcmaxclock's other fields, so it can be computed when we print it.

If you really want to have these as separate structs, I would still call the globals gcTotalTimes and gcMaxTimes and I wouldn't use named types:

  var gcTotalTimes struct {
    count int64
    ...
  }
  var gcMaxTimes struct {
    maxpause int64
    ...
  }
1	1	You are creating something similar to issue 9753 here. Do a loop instead. From https://msdn.microsoft.com/en-us/library/windows/desktop/aa365915%28v=vs.85%29.aspx:

Note that it is possible for the buffer size required for the IP_ADAPTER_ADDRESSES structures pointed to by the AdapterAddresses parameter to change between subsequent calls to the GetAdaptersAddresses function if an adapter address is added or removed. ... This method requires calling the GetAdaptersAddresses function multiple times.
2	2	> Ugh, really?

That's how I read http://0pointer.de/lennart/projects/nss-mdns/ at least.

 > So do we need an mdns.allow parser too?

Even nss-mdns discourages using the file (""Please note that usually mDNS is not used for anything but .local, hence you usually don't want to touch this file."") so you can probably just fall back to cgo if you detect its existence.
1	2	debug print but not errant, and commented out. i got tired of putting back every time i came to this routine.
2	1	It'd be nice to coalesce such case lists into a single line, up to some line length.
1	2	s/data/key/

This variable name (in docs) is more important than conflicting with internal variable names.

""data"" isn't much more descriptive than ""variable"", ""thing"" or ""stuff"".
2	1	This condition is always true. I assume the condition you meant was n != ptrSize. Though I see you removed this condition altogether in CL 9704 (rebase failure?).
2	1	This is problematic, because you know you have Go code passing a Go pointer into C.  Maybe you had that before and I didn't notice.  I don't think we should put code like that in our examples.
1	1	No need for indirection here.
Merge benchmarkTCPConcurrentReadWrite into this function, and use the addr ""127.0.0.1:0"" directly.
1	1	Why not newval == _Grunning?  That would be symmetric with casgstatus.
1	1	Rephrased the description.

I am not sure if you question the necessity of skipping whitespace or if you don't think it warrants a separate function.

For the first: yes, xml.Decoder.Token will not filter out empty whitespace between XML elements, so it has to be handled.
For the latter: Indeed, I could merge skipWS with propfind's UnmarshalXML but one would most probably need this functionality also for the parser of proppatch. Shall I merge it with propfind or keep it separate?
1	1	And here, end with a single ""},"", and the next line becomes ""}},"".
1	2	frame := getcallersp(unsafe.Pointer(&siz))
Delete next three lines.

Also, given that now it's just the callersp, s/frame/sp/ everywhere, including in the defer struct field name.
1	1	I can't parse the part between this comma and the next one.
1	1	sure, but what I meant is that the element type can be elided if it's a composite literal (any composite literal)

same below
1	1	can you combine the declaration of ctstr above with this assignment ?
2	3	Fair enough. But still deleting registry entries is wrong - you won't be able to run that program again without them. You can disable service from inside your program too http://godoc.org/code.google.com/p/winsvc/mgr.
1	2	Consider merging these uncommon write barrier forms in to one function that takes flags.  I think there's a bug in the later atomic function fixes that this would help address.
1	1	Compiles with go:nowritebarrier so I just did the assignment.
2	1	we need to test both non-privileged ""udp4"" and privileged ""ip4"" sockets here.
1	1	this isn't an endpoint. It's a string. And now it can be a const, not a var.
2	2	I've shortened to isIPv4, but I don't think preferIPv4 is correct.  first(preferIPv4) seems reasonable, but partition(preferIPv4) doesn't actually prefer IPv4.
2	2	I think that's just a mistake in make.bash.  It's better to fail fast and minimize distractions to stderr when you know you've already lost.

I'd say add an exit failure here and then submit. If you feel strongly about keeping it as-is, you can submit this too and we can fix them both later if we decide to.
2	1	If non-empty, go into reverse mode where the buildlet dials the coordinator instead of listening for connections. The value is a comma-separated list of modes, e.g. ....
1	1	I'd delete the blank line.

Ditto for the blank lines in peekUintStructField and peekIntStructField.
1	2	I made this timeout be 3600 instead, because 10 minutes was too slow with unaccelerated QEMU :(
1	2	Good point, I missed that.  Determinism is a key feature.  Fixed.
1	1	Note that this means envp is empty, while you fill in LD_LIBRARY_PATH, PATH, and TMPDIR in the gomobile code.  I'm not sure how to get the environment or if it's even necessary. (All the Go environment functions in runtime assume that Go has already been somewhat initialized.)
1	1	s/start/e/ would be consistent with the methods above.
1	1	$(dirname $0)

would mean you don't break if someone runs this from another dir.
1	1	// _g_.m is reachable via allgs, so WB can be eliminated.
1	2	""Types"" is an overloaded term in programming. Is it an actual term in the source documents, or can we use a different term here? Is ""type"" the same as ""MIB""??
1	1	It would be good to try to use the (*types.Package).Name() instead of assuming that it's the same as the last segment of the import path; the latter is only a convention, and it is not followed by users of the http://pkg.in service.
1	2	I'm not sure it does leak that, the litmus test in question is a PUT; so lock errors don't disclose existence, only that a lock exists on that path?
3	1	Object is not overloaded in Go.  Here it refers to any touchable object, so overloading is fine.  I'll change it to Widget if that's clearer.
2	2	Copied from sys_openbsd_386s.s and missed - fixed :)
2	1	https://msdn.microsoft.com/en-us/library/windows/desktop/aa366058(v=vs.85).aspx#IfType

It's possible to check by IF_TYPE_SOFTWARE_LOOPBACK. But I don't know what the expected returns of Interfaces().

Mikio, could you please describe to me the spec of Interfaces/InterfaceAddrs?
2	1	I was mentioning the blank line. Please don't remove tk.WithExtra.
1	1	it doesn't leave them; it always removes them.
""use specified directory for temporary files""
2	4	It adds more things to go wrong than just downloading everything again to do a reinstall. I understand the desire, downloads are a pain, but downloading again is a much more predictable zero state than some set of possibly-correct archives on local disk checked against some possibly-correct set of hashes.

All of which is a lot of extra moving parts to work around a problem (slow connections). Is it worth it? Maybe. But it is a lot more to go wrong.
1	1	Same comment as above

  for shift := 0; shift < 8; shift += nibBitsWidth
1	2	I considered using ioutil.TempDir but had similar concerns as Minux. It is unclear to me whether any state in PPROF_TMPDIR is expected to persist between calls to pprof.

Also, since there isn't a single test covering the pprof internal libraries, I opted for the smallest possible change.

From cmd/pprof/README I get the impression that the code is frozen to a certain extent, so I didn't want to change too much either.
1	1	put a comment before this test, explaining what it's trying to test?
1	1	take remoteAddr as variable at once and put on below's env table.
3	2	Done (gerrit tells me off if the commit subject is too long:

(W) 873ed2c: commit subject >65 characters; use shorter first paragraph

but does the go project really care?)
1	1	FWIW:

After the first Mod, a >= 0. b is already > 0 by definition. So the rest of this code is all done using natural numbers and thus could probably be (slightly) more efficient by using nat's directly. Perhaps next CL.
3	1	say: the Go Playground is really useful.
(I use it every day.)
3	1	I agree this can be discovered without the text. Deleted the comment. Same in OpenKey.
1	1	debug/ogle/debug is a lot of debug path components.

Time to think about rearranging?
2	2	I'm not sure I understand your point here. Do you mean I should talk about things like field alignment and so on?

I think that mentioning Java would make this more confusing.
1	2	This should probably be moved above the goos==""openbsd"" check so that unknown options on OpenBSD also force cgo lookups.
3	2	Ah, the perils of copy-paste. Updated to ""ECDHE-RSA-AES256-GCM-SHA384"".
2	1	http://godoc.org/golang.org/x/tools/cmd/benchcmp will help make the benchmark comparison more readable.
1	1	// use Russian Peasant algorithm, adapted for exponentiation
1	1	{""abbrev"", ""info"", ""line"", ""str""}
would be consistent with the dwarf.New arg order.

Ditto in pe/file.go.
2	1	""easy"" is marketing; let the code speak for itself. :)
2	1	I feel like these explanatory comments belong in the code, not just the code review.
2	1	another introductory sentence please. when do i use this?
2	1	I don't know how this is guaranteed if i/j/k is constant.

For example, on both arm/386, cgen_slice is called with:

cgen_slice-n [0x4208194b40]
.   SLICE u(1) l(9) tc(1) ARRAY-[]int
.   .   NAME-main.si u(1) a(true) l(6) x(0+0) class(PEXTERN) tc(1) used(true) ARRAY-[]int
.   .   KEY l(9)
.   .   .   LITERAL-100014 u(1) a(true) l(5) x(0+0) class(PEXTERN) tc(1) main.ci64 G0 int64
cgen_slice-res [0x420819a140]
.   NAME-main.autotmp_0000 u(1) a(true) l(9) x(0+0) class(PAUTO) esc(N) ARRAY-[]int

For this input:

package main

const ci64 int64 = 100014
var si []int = make([]int, 10)

func main() {
        _ = si[0:ci64]
}
2	1	I now believe that all paths have already done a finishsweep by this point so removing this as you did is correct.
2	1	Maybe s/propvalues/proppatchProps/. Not sure if it's an improvement. WDYT?
1	1	Done.

Note the modified tests. I don't think it matters that they fail differently now. It's probably better, actually.
2	2	Because it's racy. It should be guarded optimally with a lock that is not so global, but then you're talking about improvements that are in the nanosec granularity.
1	2	I wouldn't bother with bufio.NewReader, just read 100 bytes or something rather than bothering with ReadString.
1	1	The uint isn't necessary any more. And while you're here, I'd change the first + to |. The two are equivalent, since you're shifting by 4 then add/or-ing 0x0a, but I still feel that | is more appropriate for bit-whacking.
1	1	s/logical//

(logical as opposed to what? it's all logical in software... - leave away)

how about:

Loading is controlled by this dependency graph.
1	4	I have added cmd.Process.Kill() to kill broken process (after small pause). The broken process gets killed. But ""Dr Watson"" process that displays WER dialogue still remains opened (with dialogue and all). I don't see how we can kill that.

I don't think it is important anyway. This test is unlikely to break without someone noticing. And once we notice that we'll fix and clean up.
1	1	This will always be nil, right? As above, I think you can remove this argument.
1	1	Should this just be
func Run() { etc }
and have callers explicitly call Register beforehand?
3	1	I image you already modified c2go.cfg to account for this? If so, can you please update c2go? Thanks.
1	1	this doesn't make sense to me.

Why can we distinguish it? What depends on what happening before what?
2	2	It's in the debug code below, but I'd add a comment here saying something like

    // n = (p - base) / s.elemsize, using division by modular multiplication
2	1	Please put code snippets into double back ticks in order to highlight them in the changelog (``computeChangeSets()``, ``persistAll()``, ``hasUnpersistedChanges()``)
2	2	I suggest to add a wrapper class like F3FLOW3PersistenceObjectStorage and keep the API attach() and detach() stable.
1	1	You can simply use here $GLOBALS['TYPO3_LOADED_EXT']
It is initialized in the bootstrap. Basically this global does not need initialization. And extension could still use it in ext_tables and ext_localconf.
1	1	In what way? I wanted to express that this all belongs below there ""where"", so I indented it another level.
1	1	Same question on side-effects as on the previous file
2	2	no hsc in exceptions please. the exception handler does take care of proper encoding
2	1	ERROR: TRUE, FALSE and NULL must be uppercase; expected ""FALSE"" but found ""false""
3	1	it would be nice to use a DTO for the options. this would make it possible to extend it later (which I am pretty sure we will do) without breaking extensions using the interface
1	1	It is not really a service, rather a ""strategy"", what about calling it as such?
1	1	are you sure about this loop, which does not run ;-)
1	1	Use existing $GLOBALS['LANG']->sL('LLL:EXT:lang/locallang_core.xml:show_item.php.uid') 
with ""Uid:"" ?
1	1	This backup is not needed. 
$item['indexing_configuration'] = $indexingConfigurationCurrent; is enough.
1	1	see it's actually added below neos-application, will remove it ;)
1	1	valign is still spread a lot across the core - this will be a seperate task to clean this up. this makes it only more easy to find.
2	2	Stefan, I'm just mostly replicating the what is done when including CSS styled content's TS using the include static select. To me your questions show you did not look at the issue. Can we please get this through?

Apart from the above, no there is not a filename, and yes there needs to be a slash.
1	1	Enable the deprecation log here is not finally discussed. I'm 60/40 for not logging, because the deprecation log will get extremely flooded. When enabling, only the first setting (and not all three) should be logged to minimize the flood. The logging could be enabled in the next version, and till then it should be documented very well.
1	1	Is the model about logs (as the class name suggests) or about log rows (as the parameter name suggests)? At least one of them needs to be changed.
1	1	add a whitespace before/after = when assigning $row
1	1	functional changes?? I just flipped the ifs. But I just see that there's still the skipSystemDependencyCheck stuff in it.
2	4	I actually fear that PHP accepts this due to some easteregg or so :)
2	2	Sorry but I didn't get why we need 199 here - to trigger some update to 200 afterwards? What if we just fix the update for afterwards then?!?
2	2	why do we json_encode() $scopeData here? We do not do this in the base class. Furthermore it is already serialized.

The only difference in this method compared to the one in the base class is now the Tree.thisScript stuff. The question therefore is: Is this a bug in the baseclass that Tree.thisScript is not set, or is it superfluous here?
If neither applies, then still the question remains, if there's a nicer way of adding this code snippet without overriding (and copyiing) the complete method from the base class?
1	1	add a space after CMS so it read TYPO3 CMS 7
same for CMS8
1	1	Me neither, i am just writing functional tests for this ... gimme a sec.
1	1	The new/better URL would be http://tracker.phpbb.com/browse/PHPBB3-3832
1	1	You are free to decide, preference is usage of use keyword. IDEs do this on their own.
2	1	did you want to save the three characters ""urn""? not worth it IMO ;)
1	1	+1
Also this method shows a lot of errors/hints in the code inspector (unused variables etc.) but I find it hard to refactor this atm
2	1	I'd say yes. I mean, why not have hex for your file sizes internally? :)
1	1	should we mention the full classname here?
TYPO3FlowPersistenceDoctrineService
1	1	divider/spacer not needed any more - spaces should be created by t3skin itself
1	2	Since BE was IE10 (as of the member var above) I think changing the member to edge is not a problem, but I would keep the IE8 default here, which does not hurt us, and will also not hurt third party stuff then.
1	1	Maybe some info about the purpose (selecting node position?)
1	1	I think we use spaces instead of tabs after variable name (all  @foo above).
1	1	Suggestion:

Your account or email address does not exist.
2	1	please use a better var name, Panels says nothing :)

eg: TYPO3.Viewport.ContentCards
2	1	I wouldn't recommend to use a percentage here.. With ""This change is backwards-compatible most of the time"" or ""This does not change the public API..."" we should be on the safe side
2	1	actually I don't know why it is like this in the login but not in the logout.. I would assume it should be the same in both places, and that this one is the more robust one..
1	1	you can remove the access tag and set the function actually to private
2	2	It is a core class, why should it be independent from core usage?

""If you just assign an end date you have to jump in the source code to become an idea how the start date is resolved.""

This can be written into the function comment, so if we may change $GLOBALS['EXEC_TIME'] we do not need to change so much calls.
1	1	I checked other __construct comments and there where no such annotation.
1	1	Shouldn't @throws annotations be after @param and @return?
1	1	For readability I prefer an inverted condition as guard clause.
1	1	Good catch, my bad (it differs in master, see Iadfa1fb78e101e67ed47a6f3b5ea88ff12c90ca6)
1	1	Do we any chance to detect whether the call was made from outside the TYPO3 Namespace? Otherwise we'll get lots of deprecations if we call a public method from another class in Core, which is public but not part of the API.
1	1	It appears the requisite form is ""elseif,"" so I left this one as-is.  

""...TYPO3 code must not use the else if construct.""(http://docs.typo3.org/typo3cms/CodingGuidelinesReference/PhpFileFormatting/PhpSyntaxFormatting/Index.html)
1	1	The doc comments are inheritted from the parent class(es)
1	1	I would prefer the previous formatting of line breaks.
1	1	Why not use:

if ($limit > 0) {

} elseif ($limit < 0) {

}
1	1	here as well: if ($value === NULL || strpos()...) { continue; }
1	1	Whitespace matters. We use tabs, and trailing whitespace has to be removed.
1	1	If no version can be parsed ""0.0.0"" â€” ""0.0.0"" is the result
3	1	We have that around many classes this way now. If I recall correctly we have not guideline for this. Would you be fine with keeping it this way? If so, please merge.
1	1	space before ( missing. Causes reoccurring changes proposed by database analyzer in Installer
2	1	what is the reason for having them private?

I mean I usually like private stuff, but it's uncommon in TYPO3 CMS ;-)
1	1	Doesn't work because when accessing the DB from DataHandler also other classes are invoked (e.g. TYPO3CMSCoreCacheBackendTypo3DatabaseBackend) which require $GLOBALS['TYPO3_DB'] to be set.
1	1	I don't line inline styles, can this be done in CSS?
1	1	The phpdoc states that an array is returned. Would it be better to return an array() instead of NULL?
1	2	what about Jigal's comment ""Copying an array for the sake of a variable name is a waste of resources IMO."" ?
1	1	There should be a more reliable way to check if an extension contains a ""cacheConfiguration"" definition. But I must admit I don't have a good idea yet...
3	1	It is a logical change, but it is correct!

$configuration['vendorName'] !== NULL

triggers a PHP notice, when $configuration['vendorName'] is not set
2	4	Ai, we missed a use-case here. I'm affraid that I know why this wasn't implemented yet. This doesn't check if the files inside the deleted folder have active references like is done above. See also https://review.typo3.org/#/c/33562/
1	2	Yes I copied that from dbal. I'm not sure what happens if an exception is thrown at this point, but I'll look at it.
1	2	well either exception or return NULL both are not possible.
1	2	already defined here: BasicFileUtility::$tempFN

there is a @todo for this attribute to change it to ""visible"". as static?
1	1	This could impact the development context when doing a partial compilation, is it noticable?

We should re-use the filename (micro-op).
2	1	Please use $GLOBALS['TBE_TEMPLATE'] here, so the code is more consistent
1	1	WARNING: Code after RETURN statement cannot be executed
1	2	I don't care about the number of instances of ReferenceIndex. I want to have this cache inside BackendUtility::explodeSoftRefParserList() which is static.
1	2	alternatively trigger_error() can be used instead of the HtmlMessageHandler.. Basically it's a problem with PHP, read more here http://stackoverflow.com/questions/2429642/why-its-impossible-to-throw-exception-from-tostring
1	1	I think, we should replace this by getBySeverity() to avoid juggling with message types in userland
1	1	i don't think we should remove this map now ... lets wait until 6.2 for this, just as announced.
2	1	Could be

if (!isset($colPos) || $cRow['colPos'] !== $colPos) {

since colPos is set using $cRow['colPos'], thus the type must be the same.

Just have to remove $colPos = '' a few lines before.
1	1	Between Patchset 5 and 6 the API was changed, so this use isn't needed anymore.
2	1	Comment should have a space and uppercase the first letter like in the other comments.
1	1	I removed this in patch set 2 - my use case should be handled in the (abstract) controller
2	1	This check is improved in https://review.typo3.org/#/c/32645/1
2	3	<cgl>It should be ""HostPattern"" according to our CGL.
I know that we violate this already in Flow with CsrfProtection and Uri pattern, but this would be a good chance to fix this (I can take care of this if we agreed on the other issues)</cgl>
1	1	I would prefer to move any calls to TYPO3_DB into a repository. This should not be the work of a controller.
1	2	static properties need to be set via self:: (or static::), not via $this::.
1	1	... the right path in *TYPO3:*FLOW3:package:git:gitBinary
1	2	Sounds reasonable. Maybe mul_ZZ could (should?) even be the default locale used in Settings etc.
2	1	oh, good catch! funny this slipped in ... btw: ArrayUtility from extbase should be reviewed and at first glance it seems most of it could be merged to core ArrayUtility.
1	3	thus we should not add a check here but investigate what is going wrong in ->tmpl->getFileName
1	1	Yes it must be a type. http://phpdoc.org/docs/latest/references/phpdoc/tags/return.html

But you can describe that in the comment that always false is returned if no filehandle is available.
2	2	don't remove this comment here! the require once is obsolete only
1	1	There is no need to reference $wizard, it's an object
1	2	[BUGFIX] sql_fetch_assoc() and sql_fetch_row() should default to FALSE

Initialize default output to FALSE for sql_fetch_assoc() and sql_fetch_row().
1	1	Could you add another test which uses line breaks after ""${"" and before ""}""?
1	2	This code is broken.

$this->storage needs to be changed
2	2	Releases line please.

Is there a ticket for that?

What is the ticket number of the commit 76741df.
It so cumbersome to have only commit hashes.
1	1	you should return t3lib_div::inList($in_list, $item); there too, no sense to use the old one here
1	1	Hm. Not sure if this is too much overhead, but we're trying to switch more and more modules to extbase and now we introduce new code which mixes html and php, data retrieval and presentation?
1	1	I guess this is no longer WIP. I just marked it that way as I needed feedback from Christian regarding the forge ticket.
1	1	right: 0?
Fly-out hangs out of the window in multi-group fields
1	3	@param is missing

In addition, I'd prefer to have a setter (or only getter that can be mocked) for this constant. This would be cleaner than having this as a method parameter.
1	1	I guess it's because hasRole only returns boolean, and the array key is needed as well..
3	2	I agree with Markus - if only for code-consistency purposes, add the =array() - it is bad karma anyway to have arguments with default values preceding ones without a default value.
1	1	It does NOT take precedence, but is executed as last step.
1	1	perform this check before fetching the translations above? in the else-branch you then set $allOptions to array(); Maybe initialise it to an empty array as the first line of this function (as in functions before) and only fetch translations when needed here
1	1	prefer to have variables as local as possible.  This helps with long-term maintenance.

for ( unsigned int i=0; ....
{
   for ( unsigned int j=0; ...
{
}
}
1	1	This should probably be ignore.  It is not part of the explicit ITK style specification.
2	2	This needs to have been initialized to the correct size here.

JacobianType jacobian( dim, 
                           transform->NumberParameters())
1	1	run KWStyle in this file.

Fix bracket indentations.
1	1	The ""git commit"" line needs a continuation character to include the following '-m' line.  However, you should be able to fold the entire commit message into one quoted string starting on the above line.  Be sure to leave the second line blank.
1	1	Just 'Iterator' would be more consistent, and is not ambiguous.
1	1	Only the find_package call actually needs to be in the itk-module-init.cmake file to make the imported targets visible globally.  Everything else should be able to go inside the module CMakeLists.txt file.
1	1	Why not level 1?  We don't care about warnings in third-party code.

Using level 3 could actually *increase* the level depending on the actual build flags.
2	1	it should be 

  if( this->m_UsePhysicalSpace && !this->m_PhysicalSpacesMatch )
2	3	I've left this unchaned for the following reasons:

- emitEvent is supposed to forward the event to the vtkTransferFunction object and is a pure virtual method that subclasses override. I don't want to add additional burden to subclass developers to have to manage firing the signal
- current code can handle event order nicely since it knows which is start and which is end i.e. a typical order is  ControlPointsItem->StartEvent, TransferFunction->StartEvent ... TranferFunction->EndEvent, ControlPointsItem->EndEvent. If emitEvent() fires all signals from ControlPointsItem too, the order of EndEvent being fired will switch. Not a huge deal, but can cause issues with UIs in some cases.
1	1	Mind putting text documenting what's happening here? We shuould start documenting non-obvious stuff
1	1	this->

typedef ""char"" named concept.

hard coded ""0""
1	2	""Add test(s) performing the static code analysis using CppCheck""
2	3	The usage of exception specification here is very bad! If any only exception is thrown, then the program will terminate. Imagine what will happen if that occurred in Slicer! Have you verified that not a single method usage can throw an exception of a different kind?
1	2	Probably want to make this 
if (this->InputTimeValues.size()<=1  && this->DisableResetCache == 0)
1	2	I don't think this is probably necessary -- see line 201 in the top level CMakeLists.txt:

if(ITK_USE_REVIEW)
  set(Module_ITKReview ON)
endif()

so, just EXCLUDE_FROM_ALL should do the trick
1	2	Why not move this up into the anonymous namespace above? It is harder to read going from RWMolecule constructor/destructor to internal class and back again. Maybe I missed something subtle? If so, maybe we could add a brief comment.
1	1	Why are you using cerr here instead of vtkErrorMacro?
1	2	I have reused some cmake code I had... It should be some left over from the copy-paste :/
1	1	There's already bunch of strcpy calls scattered throughout this file anyways.
1	1	This should probably be ignore.  It is not part of the explicit ITK style specification.
1	1	Ho yes, perhaps I should change the commit message ?

It's because the policy was set to NEW, so it will do nothing anyway, as we are already using cmake > 2.6.0
1	1	Why is it returning the list of children both in the return type and in the argument type ?

The signature should be GetChildren() const.

Since getting the children shouldn't result in a modification of this node.
1	1	Just an opinion I guess, but I find the old formulation of:

if (dy > 0) â€¦ else if (dy < 0) â€¦ 

much easier to read.
1	1	The Slerp I was thinking of, http://en.wikipedia.org/wiki/Slerp doesn't seem to be in all caps - is this something else? It does say somewhere to avoid acronyms but there are exceptions (this may be one of them).
1	1	ThreadIdType numberOfThreads = this->GetNumberOfThreadsUsed();
1	1	bodies of ""if""s must be inside brackets, even if it is only one line.
1	1	PointContainer * points = this->m_Mesh->GetPoints();
1	1	Why call it GetStartIndices() instead of the expected ""GetSeeds()"" ?
1	1	The language style needs to be instructive rather than conversational here.  This is primarily intended for the software guide.

Remove the ""Therefore"" and ""For instance"" and make the sentences more authoritative.
2	1	Same here, toQt or just toVariant as it is taking a Json::Value.
1	1	Since this script will go in ITK's tree and not the hooks, it should be licensed as the rest of ITK (which will soon be Apache but is not yet AFAIK).  Besides, the rest of the Apache license infrastructure (LICENSE and NOTICE) is not present yet.  Also, we should assign the copyright to the Insight Software Consortium for code going in ITK proper.
1	1	Should we just take this if out?  It doesn't actually have a body.
1	1	reconsider why is that these variables should be ""protected"" instead of ""private""
1	1	Check if the number of neighbors integer type can be obtained as a trait from the KdTree class.

Move body to .hxx

use  this->m_NumberOfNeighbors
1	1	This should only be added if the RGBZ view plugin is going to be built. Maybe the proper place to add this test is in that plugin.
1	1	I did not make comments on all of these before because it was the same comment every time. Unless there is a good documented reason, these should all be set to ignore.
1	1	Add newline.

#-----------------------------------------------------------------------------
1	1	Have you measured the performance difference with RegionOfInterestImageFilter?
1	1	don't hard code ""char"".
Make a typedef for it (IdType maybe?)  and use int8_t in the declaration
1	1	This is a mis-rendering in Gerrit.
The actual code is properly indented.
1	1	Ack, yeah, that was my first way of fixing the original warning, but when I looked over the class more, I realised just removing the checks would be better... will fix.
1	1	Add spaces inside parentheses throughout, i.e. (XYZ) -> ( XYZ )
1	1	Using itkAssertInDebugAndIgnoreInReleaseMacro for efficiency.
1	1	// We should use deltaPos here, because the actual movements of the point may be changed according to the logic above
1	1	if defined ITK_HAS_TYPETRAITS_TR1_NAMESPACE
 define ITK_STD_TR1_NAMESPACE std::tr1
else
 define ITK_STD_TR1_NAMEPSACE std
endif
1	1	I took out the cast. That was causing the warning I think.
2	1	Line lengths, seems like most of these would be easier to read if they were placed on the preceding line before the variables.
1	2	No need to set here if initialized to invalid at the top.
1	1	ITK 4.7 is out :-)

This required could be still added in the version specification to  the find_package call for this example, though.
1	1	What version of git was that added? It's not on all of my systems.
2	1	Oh, you want it really obvious what type the variable is :)
1	1	you could pass 1 here instead of numPara and skip ""/ numPara"",  for a slight efficiency gain.
1	1	should probably also mention the the optimizer scale estmation was pushed into the parent class
1	1	It does not appear that you need this treeColorSet.
1	2	The comment should indicate that using the itk3DVersorRigid transform is often a much better transform to use during optimization proceedures from both a speed perspective (lower dimensional parameter space), and stability standpoint (versors do not suffer from rotational gimble lock).
1	1	You'll get bool to int conversion warnings with these return calls.Fix by 

return this-> ...()? 1 : 0;
1	2	Should GenerateInputRequestedRegion be virtual in all classes?  Perhaps there is not global rule.

[johnsonhj@HansMBAir (git: master) ITK]$ git grep   ""^ *void GenerateInputRequestedRegion""|wc -l
      95
[johnsonhj@HansMBAir (git: master) ITK]$ git grep   ""^ *virtual *void GenerateInputRequestedRegion""|wc -l
      83
1	1	Prefer ordered includes, i.e. VTK headers, vtksys headers, STL/system headers.
1	1	What does this have to do with the change in question?
1	1	""Toolkit"" usually stands for ""development tool"". See e.g. http://en.wikipedia.org/wiki/List_of_toolkits
1	1	We shouldn't need ${ITK_EXECUTABLE_PATH} at all.  Just naming the executable target will work because add_test(NAME) knows to translate a target name appearing just after COMMAND into the right path.  This is already done for the other tests.
1	1	The VTK_INSTALL_EXPORT_FILE variable is completely unused and should not even be set.
1	1	Run KWStyle in this file.

Fix bracket indentations.
1	1	These methods should also probably go in the anonymous namespace.
3	1	I agree that we should follow master for this and projects like CTK, but it is better explicitly update sha with commits.  Otherwise, upstream can update at any point and builds or tests will mysteriously start failing.  Also, when checking out branches or tags, we will get the versions of CTK, etc that are known to work with that branch/tag of TubeTK.
2	3	itkGetInputMacro and itkSetInputMacro are ITK wrappers for this->ProcessObject::GetInput(#name) and this->ProcessObject::SetInput(#name)

I'm not sure what you think is wrong here, please elaborate.
2	1	bad define.

This is the .h file.

Please run KWStyle.
1	2	I do have KWStyle but somehow I think it only complains if I have end-of-line whitespace. I'll remove the tabs.
1	1	These misaligned typedefs should be causing KWstyle errors. Are you not getting any?
1	1	Not sure about this method. It seems to make sense to me the way Dan explained it but I'm not comfortable giving this change a +2 since I didn't write any of the original code and may not be aware of all of the issues.
1	1	Good catch.  Debugging needs to be removed.  Will remove in next patch set.
1	1	Line 240 in cxx file cannot accept const reference:

this->m_Metric->SetParameters( this->GetInitialPosition() );
1	1	Should this call Free(), or just remove Free() and put that code in here?
2	2	The comment has a typo: RGBA]4]. My preference for the function signature is as follows:

  void GetColorAsUnsignedChars(const double colorIn[4], unsigned char colorOut[4])

This makes the number of input & output values explicit.   Also, my preference is to return ""void"" because returning the output is unnecessary redundancy.
1	1	I will remove all of the debug and most of the other messages after the VectorImage is working.  Main reason to use the Logger is to print interleaved messages from multiple threads legibly.  Other reason I'm avoiding debugMacro until VectorImage is working is so that I can continue to see debug messages even when compiled in Release mode for speed.
1	1	No need for indentation on the last line, or even the preceding newline for that matter.
1	1	line length. You can also use qPrintable(m_keyPressBuffer) here.
1	1	Good point.  I'll move to the other block of ITKDeprecatedTestDriver.
1	1	template< unsigned int TDimension, class T >

Prefer a more descriptive name for the second template argument.
1	1	This variable will never be set. We are linking to Qt so we should be good.
3	1	Please remove the word Magic from this file too...

    - edit the file
    git commit --amend
    git gerrit-push

Thanks
1	1	I don't believe that typename is needed here since there is a template present.
2	1	Should the output of this filter always be Real? This cast seems like is should be done outside this filter.

If it's required it may be able to be done in-place for some situations.
1	1	Since JacobianType is the same for both transform types, why are you defining two different types? See comment elsewhere - I think it would simplify code to recognize they're the same type.
1	1	bad indent

shouldn't it be SLERP instead of Slerp ?
(can't change the cast of acronyms)
1	1	Rename objectCollapsibleButton to objectCollapsibleBox or objectCollapsibleGroupBox ?
1	1	Why use a Pointer ?,   the ""const Self *"" should be enough...
1	1	This is not necessary. The same array can be used as multiple ""things"" without any problems. Just make sure that code handles it correctly. Don't forget to update the documentation in the header.
1	1	This seemed to be triggered too hurly. So I'm not sure that actually work.
1	2	This check was removed along with the corresponding GenFramebuffers and GenRenderbuffers calls because they are redundant(see CheckFBOResources bellow) and the allocated buffers are leaked. This is one of the bugs that my patch fixes. In my patch the buffers are allocated only once(with error checking) in the AllocateFBOResources method.
2	2	we can add at the end the following args ""--"" ""-j8"" but that won't work for windows.

Moreover we need to provide the generator. I was lucky enough that the system was picking the last one that I used.

So we might need to stick with a CMake call that configure the pom for you. So maybe for external build tree, that tree should probably became the place where maven should be run instead of the Maven source dir.
1	1	'git commit --amend' and everything up until the last Change-Id line can be removed.
1	1	Method descriptions in VTK must always start with this:
  // Description:
If this line is missing, then the automatic document generation will not work.
2	1	Done, although this filter is specialized for 3D only.
1	1	This is an attempt to clear the following dashboard error:
https://open.cdash.org/viewBuildError.php?buildid=3611001
1	1	Can I call GetMatrix w/out having called SetDataFrameObject? Add a bried usage description here.
2	1	Smart pointers are initialized to NULL already in there constructor.
1	2	I would go for 2 template arguments InputIndexType (which could be by default IndexValueType or unsigned int) and Dimension
1	1	Maybe this could be outputWriter instead of writer2.
2	1	Hmm notification sounds like a QObject::signals, I'd say that's somewhat misleading. So I'd name that with something indicating the progress Bar.
2	3	It's true that such an example would crash, but then it's not QRE responsability -- the user destroyed the QString holding the data. It is reasonable to argue  that the match object would still be using the stringref passed in input (as it has been told to work on that), which is now invalid because of an user's action.

OTOH, unless we want to change the current behaviour, I can't argue the same with the QString overload...
1	1	I'm not sure if I understand why it should not pick "":/extras/custom3/test"" as first.
1	1	action == 0 is Press and action==1 is SetFocus
Do you plan to move this to QAccessibleWidget??
I guess that makes sense
3	1	Yes, let's improve documentation. Thanks for comments.
1	1	i think there was a problem with d'tors as well. not too relevant, as we don't support unloading anyway.
1	1	need to unify the translation of â€œDetails"", to me ""è¯¦ç»†è®¯æ�¯â€œ sounds better.
1	1	Yes they are. Most of the shorter methods are from Media Foundation SDK example.
2	1	Done (in _data(), otherwise the QSKIP warning will be printed n times :)
2	1	Hmm, couldn't we make QtAndroid private API in QtCore or sth like that?
1	1	Qt4(??)ProjectManager ?

clang 32bit? Shouldn't this be 64bit?
2	1	while you're at it, would it make sense to fill in the remaining cases? Desktop, Music, Movies, Pictures, etc...

the implementations which can be supported using a virtual file system (i.e. media types, as long as the permission is set in the manifest) can be added later, but having the cases here already seems reasonable
1	3	Hi Mehdi, you are right. I am very sorry - I have misinterpreted the deviceRuntimeVersion as the version of DeviceRuntimeOnHostMachine.
2	2	As per discussions on qt-development, it was proposed to have a 3-tier fallback.
1) Environment Variable
2) setConfigFile()
3) A generated default value based on QStandardPaths, org name, app name, binary name, etc.

There was a +1 to this suggestion and no dissent.
1	3	preferably remove this empty line. you apparently have the wrong commit-msg hook. how and when precisely did you obtain it?
1	1	I'm removing those checks in the other modules too. This is the new way.
2	1	Be prepared that these logs won't show up. At least they don't on my Windows machine.

Seems like logs outside the test itself do not appear.
1	1	Do not rely on compoundFilterToJsondbQuery to append the filter part to the query. Instead, let it create the filter part to another string and append it to the query.
1	2	This is the line which triggers the crash.  createQmlObject() requires the calling context to be valid.  If this callback is invoked from C++ via the event loop, it has a chance to crash.

Note that using Damian's repro also uncovered a crash in QNetworkAccessFtpBackend::closeDownstreamChannel() which could hide the crash issue in QML, but that's a separate issue which needs to be tracked separately (the fix is trivial, just a null ptr check on the ftp ptr).
1	1	Well I need a way to tell whether the newestConfiguration is enabled, since the 0 returned by defaultConfiguration() does not mean that, instead it means there are no configurations at all. How else do you suggest I could expose it?
1	3	My theory of this test: count goes to zero because the delegates go far enough out of bounds to be destroyed.  But because of the easing formula, you have to flick harder to make them go that far out of bounds now.
1	1	Don't strictly need this check, but maybe it's quicker to cmp and rjmp than to mul zero?  Not sure.
1	1	Ð•Ñ�Ñ‚ÑŒ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ñ‡ÑƒÐ²Ñ�Ñ‚Ð²Ð¾, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½ÐµÐµ ""Ð½ÐµÐ¾Ð±Ñ�Ð·Ð°Ñ‚ÐµÐ»ÐµÐ½"" )
1	1	this should better be moved to a signal in IWizardFactory then, I suppose. but different patch.
1	1	I will update the currently commented font.family in another change. I will need to add the font first.
2	1	Maybe name this installToDispatcher() or something like that? I had a hard time understanding all the different classes.
1	3	i wonder where you see that - i don't. maybe it's not explicit enough for your taste in telling you that you are an idiot if you try?

make the setup script simply refuse such qt versions.
1	1	Flow control keywords must be followed by a single space
2	1	Could you add a quick comment, something like ""Return any uncommitted resources""?

It took me 2 minutes to figure this out even though I know most of this code already.
1	1	Flow control keywords must be followed by a single space
1	1	So it should be also fixed in QCryptographicHash documentation
1	1	ok, but then i suggest you turn that thing into a macro which you can document centrally (QT_SEGMENTED_STRING_LITERAL or so). also, a warning in the QStringLiteral doc would be in order if it's not there yet.
1	1	Why not simply do:

    connect(groupSeparatorChkBox, SIGNAL(toggled(bool)),
            groupSeparatorSpinBox, SLOT(setGroupSeparatorShown(bool)));

?
1	1	yes, that's the point: if it's a *designer* plugin, it needs to depend on designer, as in the other example. but this is a ui loader/widget plugin only.
1	1	why? this makes no sense. you should have just amended it if you didn't want to wait for the roundtrip.
1	2	This is quite sneaky.

This doesn't cover QWebView::setPage(0) for example, you'll still be attached to the old window.

But given that this code shouldn't change too much in the future, calling updateWindow in all different setView/setPage isn't going to break less, so +2 anyway.
1	1	Would be better to name this view rather than window
1	1	Yes, that's what QSortFilterProxyModel::lessThan() does: http://code.woboq.org/qt5/qtbase/src/corelib/itemmodels/qsortfilterproxymodel.cpp.html#_ZNK21QSortFilterProxyModel8lessThanERK11QModelIndexS2_
2	1	I think it is, if you read the documentation of what's happening when there's already a conversion registered, the new conversion function is getting deleted, i.e. nothing will happen. One could of course remove the old converter, but that would be bad if a conversion is happening at the same time in another thread. Therefore it's the same kind of warning as in QObject::connect, e.g.
1	1	is it margin, or padding? 
see e.g. http://www.w3schools.com/css/css_boxmodel.asp
2	4	This functionality is insanely useful for out of the box development against a random sysroot. This would also be a fairly insane place to remove this if block, even if I was feeling particularly murderous.
1	2	Actually it is just moved, disregard the comment on v1
1	1	No need, qdoc will list the access functions automatically.
2	1	""Deploying Qt Quick Controls""

For section titles, it is best to use the gerund (ing) because it is a task. ""Using"", ""Deploying"", ""Creating"", and so on.
1	1	next time, describe to which repository they're going.
1	1	More complete would be:

ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ñ�Ð¿Ð¸Ñ�ÐºÐ° Ð³Ð¾Ñ€Ð¾Ð´Ð¾Ð², Ñ�Ð¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ð¼ÐµÐ´Ð»ÐµÐ½Ð¾
1	1	This displays the opening curly brace, but not the closing one. Is that intentional?
1	1	does that make sense? why not just leave the reservation?
1	1	I think it might be worth a comment up here what this class is intended to do and how it does it.
1	2	no need to be redundant ""described in the report"".

but this is bogus anyway - commit message are expected to be self-contained, and the bug links are merely ""for more info, see ..."" style.
1	1	Right. Ok, then let's fix this in dev only and ignore the test coverage in 5.5. Can you make yourself a note to fix the blacklist in dev once the merges are through?
1	1	Hint: Possible incorrect use of Apple-related terminology
2	1	Then I would offer to remove ""; otherwise returns -1."" ... :)
1	2	... quite contrary to cases where the string is only compared (or appended to non-empty), in which case QLatin1String is more efficient ...
1	1	You might have to explain this one, this doesn't seem specific to aura in the header and cpp files that use it.
1	1	The type would be TestNamespace::PtrSecCertificateGetData vs PtrSecCertificateGetData though.

I suggest moving the typedefs below the QT_BEGIN_NAMESPACE at line 94. Feel free to ignore this suggestion though since it's valid C++ either way.
1	1	About { on the same line? yeah it's probably on the one below.
2	1	OK, I see. Then I don't have a strong preference, but please either add a small comment or change to upper case.
2	2	I do not like the lower part here, but if I set ""launchGitK"" function to be only one like this:

void GitClient::launchGitK(const QString &workingDirectory, const QString &fileName = QString()) ...

I get error in gitPlugin.cpp file, on line 424:

    createRepositoryAction(gitContainer,
                           tr(""Launch gitk""), Core::Id(""Git.LaunchGitK""),
                           globalcontext, true, &GitClient::launchGitK);

he can not recognize  ""&GitClient::launchGitK"" part any more if there is no function prototype with only one parameter.
1	2	Still I don't agree on treating the operation differently depending on whether the editor is modified or not. In my opinion this should not affect the behavior. What if, for example, there's only one change in the document, the user adds/remove BOM, but then triggers undo (which would bring the editor to not modified state again)? What would one expect?
1	1	Various tests won't link if I leave the macros out. F.e. tst_qpropertyanimation, tst_qitemmodel, tst_qsettings, ...
1	1	We take an ""error_list"" from the framework here, but ""message"" is passed as an argument. Looking at how message is constructed, this also could be generated here (there is no need to pass it through argument).

So either both message and error_list are this function arguments, or none of them.
1	1	I'd move ModelAdapterSource into the d pointer, and hide all the IPC API from the user-facing API here. That would reduce this to take a QAIM to remote, and a name for it, everything else can be internal.
1	1	Done, added QT_DEPRECATED_SINCE check, and changed to QT_DEPRECATED
2	2	This could be done with a static const char* [] data array, using the enum value as an index. It would generate much less code in the end.
1	1	CONTROLLARE. forse Ã¨ download, forse Ã¨ scaricamenti
2	1	Please use one of the test helper methods which includes a timeout.

Combining the takeResults() into this method does not seem like enough of a reason to add a new wait method. We need to be able to adjust the timeouts in auto testing, so minimizing the number of helper methods is rather important.
1	2	redundant, CUSTOMCONTEXT_HYBRISTEXTURE is defined for sure here
1	2	If there is only one developer path, do not append '0' to the Xcode name. It looks weird.
1	1	There are two cases to be covered: 1) When the tokens are empty (this is the one you did); 2) Also, when you do have 1 comment token but the offset is *before* its begin.
1	3	That commit mentions that a GCC 5 change motivates forbidding -fPIE, but I haven't seen any reason to also forbid it for GCC 4. That configuration has been ""not broken"" since Qt 5.0.

Maybe some rationale for that can be put into the changelog too, because it would seem easy to check __GNUC__ before deciding to #error. 

There *are* also people using boost build and other non-qmake, non-cmake buildsystems too, so limiting the #error could have been wise.
1	1	Why can't this go int QTypeinfo?  (i would like to have it there to enable some feature of QWeakPointer only for QObject for example)
1	1	May be you could add a comment where these constants are coming from?
1	1	inefficient. instead of using contains() above and section() here, one can use indexOf() above and mid() here.
1	1	It was intended to be Modes from the start, but could not be fixed before without braking BC.

Should probably go as a separate commit.
1	1	Good to know, I'd specify this in the doc -- i.e. don't touch *any* QObject
2	1	Next few paragraphs look more like they should be code comments than change description. If there isn't a good place to put them in the code, maybe we should start an engine-internals.qdoc file (which is one big /*! internal */ block)
2	2	Yes, it is. The first part of the string ( origStr[:index] ) is everything of the given string until the escaped newline - the second part ist everything after the escaped newline - which normally holds an indentation followed by the string data. We don't want the indentation (this would falsify the results - but we don't know how much indentation there would be - so, lstrip() would be obviously the best way to get rid of the indentation.

The first part cannot have any whitespaces after the escaped newline - after hitting newline we're definitely on the next line (if you go back and put spaces at the end of this line you won't escape the newline anymore but the whitespace instead).
1	1	but cd() returns bool
I don't think absolutePath() is a valid method call on bool
2	1	Why don't you emit sdkPathChanged from within the checkSdkPath once the path is valid? this will avoid to check the path twice (in checkSdkPath and isComplete() on the wizzardPage) and the BlackBerrySetupWizardNdkPage::changedCompleted will be then emitted only if the path is correct (even though you still need to re-check the path in isComplete() method...)
2	1	If you dig into the code, at some point you will reach a very strange statement (a couple of calls from setCacheSize), qMax(qMin(.....), 25).
The size reported by that might differ from the size specified by the caller, in which case the caller should be informed of that. If you query cacheSize() you will get the value of the variable, not the value that was adjusted after the qMax(qMin...) calls.
1	1	What's the error message? and is that with the latest transform change?
1	2	No other platform requires apps to be built as static libs with command-line tools and then linked into an app with Xcode. No precedent doesn't mean it's not needed. This file must be included in *every* app .pro file. Suggestions, or it stays...
1	1	That code mirrors exactly what the batch file does. That one checks for ""10.0""
1	1	If we're trying to make this documentation more consistent with other module pages, then I assume this page is meant to be similar to http://qt-project.org/doc/qt-5.0/qtcore/qtcore-index.html in terms of listing the types provided by the module, so we should add a list here that link to the following types:

 * Component
 * QtObject
 * Binding
 * Connections
 * Timer

as these are the types provided by the QtQml module.
1	1	I just used take_snapshot of the patched upstream repo, but the commit message could be clearer about this.
2	1	chromium_version will mostly be used by those creating the snapshot.

The src/3rdparty submodule sha1 is taking care of this usecase for normal uses.

I think that this would fit better as a command line argument to a script or hard-coded as it was previously in init-repository.py.
3	2	Actually, in case of invalid argument the process gets started fine, it's just that it gets immediately exited afterwards (see line 95).
1	1	Or, if the check is needed, do you mind adding a comment about when this can be false?
1	1	tst_qguiapplication.cpp: In constructor 'BlockableWindow::BlockableWindow()':
tst_qguiapplication.cpp:340:9: warning: 'BlockableWindow::enters' will be initialized after [-Wreorder]
tst_qguiapplication.cpp:339:9: warning:   'int BlockableWindow::leaves' [-Wreorder]
tst_qguiapplication.cpp:342:12: warning:   when initialized here [-Wreorder]
1	2	To address the previous concerns about constructing a massive QByteArray in the case of no terminating character: I set pos2 to pos so that the QByteArray is empty in that case.
1	1	I will remove it, but what we are really trying to figure out here is why these four commits work correctly for me but not for Jerome.
1	1	It's still an executable file. As opposed to, say, a Linux application that you build on Windows and which has a file with an extension .msi - that would most likely not be an executable.
1	1	unrelated, but 'children and whose children' ain't english ;)
3	2	A bit inconsistent with last patch, which did:
 m_screen->uiScreen() == [UIScreen mainScreen]

A QScreen::isPrimary() or QIOSScreen:isMainScreen() would be nice!
1	1	Probably should mention QDeclarativeItem too. Those are the only two public headers outside of qml/, right?
1	1	I think should this be translated(m_xOffset, m_yOffset) instead, because adjusted(x1,y1,x2,y2) will make the rectangle grow
2	2	If the methods of this class are only called from the request handler (worker) thread, then I think locking is not necessary.

A comment describing which member variables the mutex is protecting would be helpful. See the comment in the header file.
1	2	this doesn't make too much sense to me, as this file lives in the same directory (hence double quotes).

and the use of double quotes with private/ is inherently bogus.
2	1	1) returns 

2) Again ""it""... Mum :) returns the value ?
1	1	The map should also be updated, probably via loop and calls to remove().
1	2	""with the transition to ORM all we should care of is the real identifiers of this class, which is id"" â€” that's considered to be not true. Since we(at least I don't) do not know (yet?), which operations will be performed on entities, we cannot tell, what we have to compare. Namely, we have to know first, whether these entities will be processed also with unset id when stored in collections, if so, then comparing just ids spells crazy results. Usually it's recommended to compare some unique business id instead of or along with db ID. See Hibernate recommendation related to id generation / object identity.

Ok, I'll regenerate equals&hashcode using these two fields.

Note: this syntax is Java7 syntax, with direct field access, allowing comparing classes with their descendants (the last thing is necessary due to hibernate design).
2	2	I do not understand... I am not trying to fix the world now...

all I need is to ask vdsm what is its id without having to deal with handling the /etc/vdsm/vdsm.id

are the above valid to this task?

the new code of vdsm-reg will call vdsm-tool vdsm-id --force and get id no matter if it is uuid or generated from anywhere else, this id is required for registration.

if you then want to improve how it is 'generated' you are welcome to do so, it will not break the interface.
1	2	another note for future patch: replace static references by the proper Dao getter.
3	2	this one could be different too.  I would like to hold off it and update in future on demand. Are you fine with it?
2	2	huh? namedtuple() is a new-style class (otherwise __getattribute__ won't fly for it!).

Note that namedtuple(verbose=True) shows that it uses __slot__=() by default, so I'm all for the removal of this redundant line. However the commit message is confusing.
2	1	where size is not the issue, and performance is not a big deal like in test, please use range() to mainatain future compat with python3
2	1	Omer, I am not quite understand ""polling will not start for these hosts"", would you give me more backgroud information?
as to save the status in the db, you mean save host's status, 'nonoperational' in this place in db?
1	2	this is the cause of the bug - you should remove it instead the other one if you want to keep the removal as part of supervdsmServer
1	1	What are the meanings of D and C here? D for ""data"" and C for ""collection"". Could use longer names or comments.
1	1	what about this case? if user selected sysprep/cloud init in run once (then we get here) but also have payload configured?
1	1	consider using 0.0 instead of another variable called zero.
2	2	I thought of making it public bcoz, I had thought of making a itextpdf library 
wrapper, that can be used to export any reports in future.Like this class doesn't dictate any specific layout and provides methods to create the layout elements of choice although, it currently provides only a small number of layout elements like list,table.
1	1	split to chunks was added, no vms/templates in memory during vds operation.
1	1	i think you can use here getAndSetVdsStatic() to get the vds name, so we will have it in the log, i think it is called anyway for the logging infrastructure (""FINISH"")
2	2	When you move a host to maintenance then that calls disconnectStorageServer which should remove this definition so in general this shouldn't affect anything negatively.  The case where this would remain is in case of an error flow where for some reason it wasn't disconnected properly or something.  Even if that happens, it's not that interesting as a few leftover connections shouldn't affect the host negatively (think about FC where the host is always connected).
The advantage is that most of the time (since hosts don't move between DCs very often) the host would automatically reconnect whenever it reboots (e.g. due to sanlock fencing) and it would be available to engine almost immediately reducing recovery time.  Imo that is more important.
See oVirt Bug 881941 - After a reboot of both engine and vdsm domains take a long time (15 minutes) to recover
1	1	For consistency, this could be named ""storeInHttpSession"".
2	1	I actually prefer having insight into where such magic numbers come from because then you know if it is safe to change them or not
1	1	Just wondering if _nl_addr_cache and _nl_link cache can be factored somehow with a common helper.
1	1	Lots log this configuration change:

    logging.debug(""adding detector: %s"", detector)
2	1	The squid class is external, I don't want to fork it just for that.

This class is quite high in the hierarchy (it's a profile) and it's not meant to be included for anyone else that the upper level class. You could parameterize all the parameters there, but I don't think we will want to use them ever as they are quite standard. If at any point you have to use different values for different systems, then we can spend the time to parameterize.
2	1	Please use import for java.util.Arrays, instead using explicitly here.
1	1	you do not need parent to log if you inherit from base
1	1	You're preforming this check multiple times.
it's better to create a separate function, in case we will need to add a new ""localhost"" name/ip
1	1	no need for this change this, you are not using the ""e""
3	1	This change is not really necessary, since you set the ""StoragePoolId"" in the super class
1	1	No problem..removed one ctor, changed to use empty string instead of null.
1	1	""throws"" should be indented an additional 4 spaces comapred to the begining of the function (private/protected/etc.)
1	1	Should be renamed together with the class it tests.
1	4	I see, so I'll leave it to go to /dev/null. But is it enough if our websocket proxy writes to syslog?

About "">= 0.6"": I monkeypatched the methods that are used by old websockify to use logger.

(What I'm worried about is the fact I see duplicate lines in syslog - one line comes from ""journal"", the other one from ""ovirt-websocket-proxy"" and they are identical. I need to investigate this further.)
1	2	This is a bug

if the disk is shareable then the disk will be updated with the last VM in the for loop.
1	1	indent.

But how about defining

skipontest() {
  if [ -z ""${TESTING_ENV}"" ] ; then
    ""$@""
  else:
    echo skipping ""$@""
}

It should be added to ovirt_store_config (in case the test happens to be run on ovirt-node).
2	4	We are using Python XMLRPCServer, which is baed on a base tcp server, creating a socket in its __init__. See /usr/lib64/python2.7/SocketServer.py line 413.

We do not need this socket because we separated nicely the accept part from the request handling part. So our server should override __init__ to make sure we do not create a listening socket.

Looking at the horrible Python code we are using , I think this should be deferred to another patch, and the correct solution is not inheriting from XMLRPCServer, but instead write 20 lines server that take request from a queue and process them in a new thread. The way it is implemented here is fragile and impossible to understand with so many level of inheritance through so many modules (this, utils, SimpleXMLRCPServer, BaseHTTPServer, SocketServer).
2	2	There is no VDSM action here, only database - just make the command transactive, and save yourself all this hassle.
1	2	I'd probably make this _parseMemInfo. If we see that we need it outside this module we can always drop the leading underscore.
2	1	please update this at https://gerrit.ovirt.org/#/c/39024
1	1	as noted in patch set 2, message should be:
CANNOT REMOVE STORAGE POOL WITH NON MASTER DOMAINS
or something.
1	1	You cannot design an API for logging. We should take out the ""command"" argument and have generic errors. It's easy looking at vdsm.log to discover what was the command executed before this failure.
2	1	For a collection to be searchable, there has to be explicit Backend support (it's not generic, you don't get it 'for free'). So unless *you* implemented search for Gluster Volumes in the Backend, the user will not be able to search. So, unless you did indeed implement this in Backend - please remove this url parameter
1	1	It probably is, but what happens when somebody upgrades the libvirt? Do we require vdsm restart as well? Or will it suddenly start working?
1	1	I think this needs to stay here?
The idea is to have valid NotificationProperties
We need a notification method (currently smtp and later smtp/snmp)
So it cant ba validates inside smtp?
3	2	it was made before mike's suggestion to merge similar messages. I agree that it would be better, but if we'll agree on the different comments and no other patch-set will be necessary for this patch, I prefer to make this message more generic in the patch that implements the export/import VM without read lock because this one is already verified (and there won't be duplicate entries until then)
1	1	Good point. We need to make sure that we use jsonrpc.
2	2	The convention is to have all mappers static in order to reduce their instantiations as they have no state. 

Please extract it into a private static class.
1	1	I'll remove it here, but so you know - there's a problem - if someone sets it to null (for example from REST), it fails with NPE in StorageComandBase. but that can be fixed in a different patch.
1	1	if you put editable, no need for editableOnTemplate, its good for both
2	2	this method only load data from the db
i think that it's confusing to set this info to the disk within this scope, hard to debug and to track. please move it from here and preferably use the vm device instead of setting it to the disks.

Having those properties in the disks are only because of the lack of UI support for vm device..there's no need to persist the use of them - IMO, just use VmDevice.
2	1	Please don't. See my comment in utils.py. Configure the logger with proper formatter instead.
3	1	later extract a method for getting VdsDynamicDao, like for other DAOs (used for testing reasons - there's no test so it's fine for now).
3	1	when there is a sufficent contructor in the class the entire execution should fail, it shouldn't be catched here and obviously that the code shouldn't handle such cases.


there's no need for the boolean as the execution of the register disk logs wether it succeeded or failed, you can log it if you want for case of failure, but i don't see any real need for that.
2	1	I thought a little about this. Basically it should work like this:

ImageName is null: there's no friendly name for the image, use the ImageId to list/display the image.

ImageName is not null: there's a friendly name specified for the image but since it can be duplicated (it's not guaranteed to be unique), then we should also give an hint about which image it is (at the moment that's done reporting the initial part of ImageId, just as git does with short hashes).

Now considering this last case if we set ImageName = ImageId, then the displayed name would be something like ""myisoimagename.iso (myisoim)"".

Please let me know if you have a better idea on how to handle this all.

Anyway (beside the image name displaying) I think that the safest way to address this now is not to set an ImageName since in fact there's not an additional friendly name to set.
1	1	no chance vds is null? lets say vds moved to error, then user remove it from system, will this timer still trigger?
1	1	did you checked that this change is not breaks other tests?
1	1	This repeats the name of the test, better use convert() as the other tests. If you think it is more clear, change all the tests, probably in another patch.
1	1	I guess above versioning should be updated since API changed
1	2	It would require to change diskImageGuid member to static as well.
2	2	this should be done (if any) when first connection is established.

and I do think that it is a mistake to do so.

please move all the engine variables into engine side, do not modify options, there is no technical need to do so.

this includes the destination address and destination port.

let's makes lives easier for us.

if you call the variable the same, you can even have same file symlinked at /etc/ovirt-engine/engine.conf.d and /etc/ovirt-engine/fence....conf.d/ to provide the same options.

So you can even consider putting it at engine local config.

But please avoid complexity result from database updates, and move the variables to the component that actually use them.
1	1	self._guestEventTime mast be set to time() on vm domDependent or else we would never report POWERING_UP.
2	2	please try to avoid unnecessary changes to next patches.
1	2	> I think it's cleaner. We do not have to re-implement and maintain different versions start-needed-srv in each script. Just one ""vdsm_init_common.sh --start-needed-srv"" to rule them all.

Here we disagree.

But we repeat our-selves... and not progressing, so we can stop doing that... and progress... as whatever we have now is much better than whatever existed before.

When a user/downstream maintainer opens the service/unit/script whatever he expects to actually understand what happens there and why, and not start to dig within application to find issues and modify downstream specific logic.

At upstart of have the start/stop convention (yeah... you need something for legacy sysv, but simple if is doing the work), for systemd you need nothing as it handles the dependencies, for openrc you need nothing as it handles the dependencies.

So the discussion is entirely around the sysv scripts... I do remember that debian does have dependency management based on the header of scripts[1]

So we left with rhel only to handle...

This is why I do not understand why we need any common application downstream specific logic.

[1] https://wiki.debian.org/LSBInitScripts
1	1	the name is very generic; yet what it does is just poll for updates. The problem goes away if the script moves to vdsm-tool.
1	2	I must I disagree, but it's a matter of style.
Consider though documenting the fact that the other method's days are numbered.
1	1	why this is not in getEntity()? it would solve this in generic way...
1	1	Yes, findbugs also says so, you can see it in the failed job and click on the new warning:
http://jenkins.ovirt.org/job/ovirt-engine_master_find-bugs_gerrit/19530/findbugsResult/new/
1	1	There is a bit more information provided by _getExitedVmStats. Do we want to have it as part of an event?
1	1	These two methods are business logic, so they don't belong in the API, they should be part of the AddVm command, so that the same logic is used when using the API or the GUI.
1	2	this is redundant I think. you can use "	ACTION_TYPE_FAILED_VM_CANNOT_IMPORT_VM_ARCHITECTURE_NOT_SUPPORTED_BY_CLUSTER

but change its name to be more general
2	1	Please use logs instead of System.out.

You can add a log4j configuration to redirect to stdout if you want to see these printings.
1	2	Suppose I am an administrator,  I will look into the log file to find what is happening in VDSM.  You can not suppose administrator to check the console or the code to know this.  IMO, every faulty path should have a log in the log file.  You can argue that many places in VDSM are not doing these,  but it is a good practice for system service program.
2	2	@Michael - trying to see if I understand your point.

The general idea requires extracting this logic.
Do you think executeCommand() will look better like this?

protected void executeCommand() {
   disconnectStorage();
   setSucceeded(true);
}
1	1	If I don't have the above check and registration the following case does not work. 

1. Login to webadmin
2. Restart ovirt-engine
3. Redirected to login page
4. Login to webadmin
5. Click on dashboard tab

Nothing happens, on debugging I see the listeners list is empty. Do we need to handle this case?
1	1	if you called it port_mirroring in schema, why nic.portMirroring?
3	1	Thanks for clarification, so we're hitting the ""validation logic first marks the model as valid even if it might not be, then runs validators on given model"" thing again, and we need to deal with it.
3	3	Ah right I was in the ""library"" mindset, I tried to mimic what RuntimeException does. Yes if we look at what I use here, these would be useless at the moment.
2	1	I would very much appreciate a better name/doc/higher-level-interface. Which are the keys and the values of this map?
1	1	Could we have a single definition of such constants? :-)

Perhaps some org.ovirt.engine.ui.uicommonweb.StringConstants class?
2	2	global local is the type? and enables needs to be TrueFalse or 01 or yesno ? you can write:

<type = globallocal> <enabled = TrueFalse> enable or disable HE HA type of maintenance. or something like that..
2	1	Dan (and me) like ""Vdsm"" - we already discussed this few month ago.
2	1	should be addAll with casting to List, no?

please verify.
1	1	With ElementTree I can create an Element and provide the attributes as a dict see implementation below it's much easier, minidom is too much limited http://docs.python.org/2/library/xml.dom.minidom.html
2	2	Actually, I think initLineModel() should be no-op too; the semantics of it are what happens when a different key is picked, but in this case nothing should change when a different key is picked, right? Both value boxes (constrained value and free text) are hidden all along.

So I would hide them originally, say by extending the createNewLineModel() method, and implement this as no-op.
1	2	My idea was just to drop the parent class and move the methods down to the only inheriting class. But I can modify the __str__ in one shot.
1	1	""""""create a vdsm.config.config clone, modified by tunables

tunables is a list of (section, key, val) tuples""""""
2	2	Doing a blind re.replace on an XML is a bug waiting to happen. The XML has structure and it is safer to use it. Please parse the XML and replace only the element you expect. Unless, of course, you have a particular intention here.
1	1	I would remove the setter, and have a public getter you could always spy.
1	1	I guess this change (New) will be handled in a separate patch...
2	1	Please remove this log, it's a part of the if below
1	1	The logic in this method is quite heavy for each selection... Instead, I'd prefer to see it in a popup invoked from the General sub-tab. But I guess it's a UX decision.
1	1	perhaps replace the whole thing with platform.linux_distribution() ?
2	2	I see no problem in breaking the line with parentheses. But the issue is too minor to keep discussing.

Please tick Verified+1 if this patch solves the bug.
1	3	any reason for not using constants from the enum? if you'll ever change the enum,
 this tests will produce useless noise.
1	1	it will be used by the UI from a query: when suggesting auto-completion of all existing labels
2	2	Please add constant for TEST_OTHER_DC_ID, it is confusing you're using the TEST_NETWORK_ID.
1	1	It's a format with the ovirt engine format template, will recover the format.
2	1	string.join() is deprecated. Please use ','.join(vmList).
2	1	this whitespace removal makes sense, but does not fall under the purpose of this patch. It is unrelated to elementtree.

Please split it to another patch.
1	1	s/VURTI/Host Monitoring
It is about to change soon.
1	1	It is not out convention to write comments in line (across this class)
1	1	You are right, this won't work without the next patch (use DbGroup instead of LdapGroup), I will check again and I will probably have to merge both this patch and next one into one single patch.
3	1	hmmm... this is strange... ok, we succeeded in authn, but have not yet authz, so we cannot report it here.

we should report only after we have all information... where do we do authz in this case?
1	1	you have create_port function with build in cleanup, it's better to use it
2	1	So this is a kind of helper method? I'd suggest then making it ""private"":

    def _benchmark(self, flavor, ...):
2	1	this is just a nit and I don't actually care, but I skimmed and noticed that  other operation strings were <verb>ing, eg 'Getting'. I'm not sure how consistent that is, or if you want them to be consistent.
1	2	Is sqlite the only DB option to use Ganesha? What about mysql? sqlite is usually not used in production. I'm just wondering why there's such limitation here.
2	1	Looks like the order of the parameters are reversed. It should be expected, actual.
self.assertEqual('available', volume['status'])
2	1	Understood. To me it would have been safer to keep the chain as is, but introduce the validation check explicitly, but if you think this is okay too, then I'll shut up.
2	1	I think you could use a better method name, something like network_id_cmp for example
1	1	For the current situation: core plugins are developed by core team, experimental - developed by PI and Mos-Engineering teams.

In the future: core plugins - certified by Mirantis, experimental - verified by Mirantis, and thirdparty - other plugins.
1	3	Indeed, annoying even more as -i in POSTROUTING is already used in external_gateway_nat_rules (L1468)
1	1	This isn't going to pass pep8 anyway because this line is too long and the parameters to getattr don't have proper spacing.

And why are we still looking at exc.message here?
1	2	This patch evelvate context to fix tempest exeption unauthorized
1	1	Along the same vein of getting the class's METADATA_TYPE when deserializing the response, since you are checking if the METADATA_TYPE is located in the json_dict, you could reference the class's METADATA_TYPE directly.

(I should have seen this in the last code review)

  if DriverInfo.METADATA_TYPE in json_dict:
      <body>

The same applies for the properties keyword check in line 67.
2	2	This is what I figured even if we define a column type as integer it is still allowed by sqlalchemy to have strings!
This allowed user_id to be stored as string regardless of its definition.Things would fail when we have LDAP and a regular DB like postgres.
However this is present in other models like tokens where user_id is defined as Integer.So this all together should be a separate issue.
1	1	the arguments to init should be documented somewhere.
1	1	Still have a question: why do you add changes for software_config and software_deployment tables here?
As far I understand they were fixed in previous patch for both tables.
1	2	it seems to me that this operation is not optimal as it would try to find a number in a list, while you only need to check it against 0, 4095 boundaries.
1	2	well, since we're doing this, might as well do this instead, since it's cleaner and looks better (and sanitized).

        elements = getattr(self._conn, class_name)(ElementName=element_name)
        data = self._get_first_item(elements)

And before you dismiss the usage of getattr, That's actually how wmi namespaces work: the __getattr__ method is overriden and it will lookup and cache that class_name and return it, as it does not have it defined. This way it is more flexible, same wmi module works for any namespace.
1	1	Brian - We're not storing the user_token in the cache, we store the data after decrypting and JSON-decoding. If clients were passing in token hashes only we wouldn't know that it was originally PKI.
1	1	should the version be changed now that some methods are not available?
3	1	OK, will change it - there was a debate about whether we should also check for 'false', 'False' etc., which is why it was a list.  I left it like that in case we changed our minds!  Provided we don't, I'll just make it a simple equality check!
1	2	Namespacing is weird here too... ""imageId"" is a Property but ""provider"" is a top-level attribute of a resource. It's also being used here with a different meaning to what has been understood to date (see above).
1	2	I suggest adding the enabled parameter (see above), so this gets enabled/disabled as well when someone calls ceph::repo: ensure => absent?
1	1	Is 8191 the maximum ammount of filesystems? Or why is this hardcoded?
2	2	Josh, my proposal is to see boot as a helper for deploy driver (or to any other interface or anyone else) rather than to see it as a separate interface.   Boot should just take care of getting the bare metal booted to the required environment - whether for ironic to perform an operation OR to boot the user-requested image.  

Thinking in these lines, I would think boot interface should refrain from participating in cleaning.  Boot interface should participate in cleaning only if it had something to clean up on the bare metal node that would take a lot of time - in my mind there isn't anything.  We can discuss in the IRC.
1	1	For those tracking trunk, we cannot delete this migration.  Just need to make a new migration that migrates the data and then drops this table.
2	1	It would be helpful if the returned structure were described more fully, just for clarity.
2	1	Doc string needs to be changed. This does not return anything. it can be something like-
This function verify detail of referenced datastore.
1	3	This is in the wrong place and will cause multiple prints per class when running in parallel.  _inject_tag_mapping moves variables to unittest result object
utresult.mapping.var moves to utresult.var.
However the vars aren't being used so it does not do anything.
The dump_results handles printing of the results for the parallel version and as such needs to be updated to achieve what you are looking for.
1	2	project_id is none by default here and in _delete_tokens_for_user. Is the same if project_id is not provided.
2	1	This doesn't look quite intuitive to me. Maybe I am not used to this style. I like something as below. However, if you find the current style better, feel free to keep it.

self.k8s_api = _create_k8s_api(k8s_master_url)
1	1	LGTM but it would be better to follow the message format of the above 'print'.
2	1	if so there will be some problems here - i mean, to authorise we need password/token - token is really not supported in that version of nova_client. dunno what password to use here - where we're using ctx from trust. Using service user creds here is not really a good idea.
1	1	nit: The part1 patchset is ""port test_hypervisor into v3 part1"", does not include ""nova"".

so how about removing ""nova"" from this part2 patchset, or adding ""nova"" to part1 patchset.
2	1	I think we only support mysql, sqlite, and postgresql in the migrations. (Mysql doesn't need this step because it stores  indexes in a namespace per table. This step is only necessary in postgres and sql because index names are in a db-global namespace.)
1	2	these are essentially renamed to ProjectScopedPayload.version etc in a dependent change: https://review.openstack.org/#/c/162196/
2	2	Might be nice to capture a larger substring in the assertion.
1	1	cpu_allocation_ratio is a global config option fro the core filter - not a per hypervisor setting ?
1	3	I believe Greg thinks there may be a performance difference depending on SSL termination in the pipeline - but I think he's wrong for our APIs and clients - we could test, or we can review after we get something working and revisit it later if there is problems.
1	1	Here we can assume that because the if statement above checks to see what extensions are enabled. If the config option has a single entry in the list, 'all', that means all extensions are supposed to be enabled on nova. 

I just chose Hosts here because I wanted an extension that problem wasn't ever going to be removed. (also one that wasn't many characters)
2	1	I like the first description by itself:

""Add stack-wide context to a resource's scheduler_hints property at create time. Use in conjunction with scheduler filters that require such context. (boolean value)""

As for the examples and definition, I think that could live in a devref guide like you pointed out (separate documentation).  I always forget about devref but it's a good place to document the more detailed feature information rather than the config file, although the config file description might be as far as anyone gets when looking to use an option...
2	1	With auto-generated CRUD methods you don't need to define these methods manually. Please check this patch https://review.openstack.org/#/c/62865/
2	1	please move command to system.py so this can be reduced to ""cmd_node_init"".
2	1	We kind of discussed this last time - and thought that we didn't want to fail any calls if the operators were not recognised..
1	1	this file is a legacy code and not used, but I can live with that change
1	2	There are no such method as ""assert_called_once"". See: https://bugs.launchpad.net/manila/+bug/1330391
1	1	I saw you added a comment at https://review.openstack.org/#/c/138310/1/specs/kilo/store-capabilities.rst , I think you probably already know the reason of this, right?
2	2	This is better, but the registered variable is unnecessary:

while True:
    ...
    if register_models():
        return # or break
2	1	I just noticed this: please change god_mode to override_state as in this change: https://review.openstack.org/#/c/156203/8/nailgun/nailgun/test/integration/test_capacity_handler.py
1	1	Need to use:
with self.assertRaises(ex.NotSingleNameNodeException):
    validator.validate(cluster)
1	1	I think we should log the name of the fwaas driver that we loaded here. Helps to debug.
1	2	Took a couple of reads to parse this sentence so I'm wondering if there is any risk of it being misunderstood?

s/then/other than/ ?
1	2	Add:

    When you copy a manifest object, the new object is a ""normal"" object -- not a copy of the
    manifest. Instead it is a concatenation of all the segment objects. This means that you cannot
    copy objects larger than 5GB in size.

    All metadata is preserved during the object copy. If you specify metadata on the request to copy
    the object (either the PUT or the COPY), the metadata overwrites any conflicting keys on the
    target (new) object.
1	2	I would suggest changing the name of this, we actually use Neutron Drivers for spec reviews (confusing I know, given line 61 below). Since each of these has it's own review team, perhaps we can somehow indicate that here?
1	3	I guess the big question is whether it is sufficient to test the functionality by mocking out getaddrinfo() or if we need to actually make the call. If the former, I think it could go in UT. Lets see what others' say.
1	2	This may result in broken implementations since they could already have a longer URL. Highly unlikely, but possible.
1	1	can you add a bit of documentation in the docstring?
1	1	I don't see this as needing more prominence here, so much as the increase in docs is *an entire second proposal* wedged into this one. I'd vote for merging as is, and making the docs process a standalone follow-up.
2	3	If all you are doing here is testing that the object returned by Network.get_by_id is passed to the allocated_fixed_ip() method properly along with some other arguments, the more clean and canonical way of doing that would be this:

 @mock.patch('nova.objects.Network.get_by_id',
              return_value=mock.sentinel.network)
 def test_add_fixed_ip_instance_using_id_without_vpn(self, get_by_id_mock):
     net_id = networks[0]['id']
     with mock.patch.object(self.network,
                   'allocated_fixed_ip') as allocate_mock:
         self.network.add_fixed_ip_to_instance(self.context, FAKEUUID, HOST, net_id)
     get_id_mock.assert_called_once_with(self.context,
                net_id, project_only='allow_none')
     allocate_mock.assert_called_once_with(self.context, FAKEUUID,
                            mock.sentinel.network, address=None)
1	1	You're right. Ivan,tenant_id is non-admin tenant need to change to admin tennt id here. will fix it in next patch.
1	2	Yes when exception is caught it will set the subnets to [] and then L299 will return empty list.
1	1	nit: this sentence has six commas and two separate alternations ('or's). Maybe it could be split up?
1	1	""apt-get"" is distro specific... perhaps make it clear that this is an example and that other systems would be installed differently
1	1	Because SQL migrations requires it for work on the ec2 credential table.
1	1	Is it confirmed with UI team to use this distinction?
1	1	As for Server, I don't think this needs its own task.
1	1	Not sure why all these if statements are necessary... see the definition for optional_str() on line 579
1	1	This should be a programlisting with language 'ini'
1	1	Function call for single line that removes from dict?
1	1	Do you plan to address the runtime problem with N calls to cinder, where N is the number of hosts?
3	1	@jichenjc, @Chris, I will do it separated blueprint, thanks
1	2	I'm still trying to understand what this new logic brings to the table...after all of this effort, we are still just enforcing that the project/tenant-id that created an entity (secret/order) is the same one that can perform operations on that entity. However, the database relationships used in the entity queries enforce this, so what does all of this do that is different? If we were doing attribute-level access control, it might make more sense to me, but entity level for tenant-id RBAC is redundant to the db queries to me.
1	1	I guess it can be interpreted that its just being pointed out that this is a dependency, not necessarily that its a new dependency. And its good to have this documented.
1	1	Not sure where these param are from args or kwargs? Suggest to doc them clearly:

        :param args: ...
        :param kwargs:  A dict of keyword arguments to be passed to the method, 
                        which should contain: â€˜usernameâ€™, â€˜passwordâ€™, â€˜auth_urlâ€™, â€˜api_versionâ€™ parameters.
2	3	use mock.patch.object, also should be able to use the decorator like on the other method.
1	1	we must make sure the paste file is in absolute path mode:
config_path = os.path.abspath(config_path)
?
1	1	what happens if this fails? You have already deleted at the backend...
1	1	IMHO, we should explicitely add coverage for the method you're adding so we could isolate any problem later on
1	2	if ignore_extra_args is set to false, we don't care about 'kw'. The return statement will never be executed because the UnknownArgument exception will be thrown before that.
1	2	These are good, but I think we need another test which exercises the untested path in fault.py. Otherwise, if it is in fact unreachable, we need to eliminate that code path.
1	2	The use of 'count' confuses me. Would this be cleaner?

    self.assertIn('Unexpected method call', unicode(e))
1	1	This is an unrelated change that should be dropped.
1	1	context is not an argument anymore. Same for other methods.
2	1	Please describe the important points it is missing and their impact. It will help motivate the changes to mention below
1	1	Read my comment regarding this in previous patch sets
1	1	I am not sure if this might break other templates which people would be using. Tripleo might also break because of this change,
1	1	possible way to remove this constant and use information from setup.cfg:

    import os
    # Read setup.cfg of OSProfiler
    open(os.path.join(os.path.dirname(os.path.dirname(__file__))), 'setup.cfg') as setup_file:
        setup_lines = setup_file.readlines()

    #Parse version
    for line in setup_lines:
        if line.startswith('version'):
            version = line.split()[-1]
1	1	But what we are using is oslo version. I think this should be fixed in oslo. I submitted a patch to oslo https://review.openstack.org/56211
1	1	When using this many parameters, using named parameters is preferable to make things more clear
3	4	A better way to do this is
| awk '$2==""id"" {print $4}'

it suffers from less false positives on the 'id' string, and it's more efficient.
1	1	instead of this simply add ""creation_date_time=creation_date_time"" to __init__ method bellow
1	1	This should really check self.client.can_send_version() and send the primitive of the object with the old version if you can't send the new one. You can find examples of this in compute/rpcapi.
3	3	I like calling *somewhere* rather than inline policy-conditional code. I don't like that I have still exposed policy-specific's in line 528 :/

  newest_file = durable_file or data_file or ts_file

I nearly changed this to pass the ondisk file set to is_obsolete() and let that method take care of (a) determining the policy-specific newest file and then (b) determining if the file under test is obsolete. But backed off because there would be a slight loss of optimisation because as it stands, the loop is never executed if there is *no* newest file.

I guess a call to a policy.get_newest(file_set) would do it. But what I'd really like to do is have a policy.get_ondisk_files() method return the wanted set and optionally the unwanted set as result of a single iteration over the dir listing.
1	1	I think not, we implementing it because we need it, so it should be optional.
2	2	if your job is parse the service_profile to then pass it to the driver, just let the driver take care of this directly. Less cross-talk and better separation.
2	1	no, I'll use libvirt_images_rbd_pool, because we try to follow this kind of policy:

[section]_[flag]

So, I'm going to change it for libvirt_images_rbd_pool.
1	1	I think *both* initramfs and kernel image should be downloaded even if one of these files already exists. Otherwise we might end up with a version of a kernel different from that of the modules (in initramfs).
1	3	you could use `self.patchobject` from HeatTestCase, that does all the boilerplate for you. Or use @mock.patch.object as class decorator, as you seem to use this mock in all tests.
2	1	self.SECURITY_GROUPS/self.SECURITY_GROUP_IDS
self.NETWORK_INTERFACES
1	1	Anyone who looks at this commit is going to have some questions - we should be anticipating and answering those in commit messages

1) ""I've tried to sync moxstubout"" but 'from six.moves import mox' doesn't work - i.e. explain the need to register the move

2) ""woah, python 3 specific requirements.txt ... why do we need that?""

3) ""why are you using nose?""
1	1	Should this be all of the groups and not just controllers?
1	1	At least put // @todo something. Helps us keep track of what still needs to be looked at in the codebase.
2	1	Please use:

  pywikibot.Timestamp.now().isoformat()
1	1	Hmm, I am not sure what to update.  I removed one of the params from the message but I think it's better to keep it in the param list so it doesn't change the numbering for other params?
1	1	http://en.wikipedia.beta.wmflabs.org/wiki/Hurricane_Celeste_(1972)
1	1	Err, actually that won't hurt anything, and if anyone ever changes the canonical form to be this, then the entry would get used.
1	1	It would be would to expand into '... main stats view in rt server' or similar.
1	2	We ironed out the issues on bug 49965, a few patches are linked from it.
1	1	This class is too generic...

It's likely better to take all configuration and wrap it in a class named ""misc::reportcard"".
1	1	Adding {{delete}} is because that was previously in this script:
http://git.wikimedia.org/blobdiff/pywikibot%2Fcompat.git/d5a3b0349e0264a298d909d03455283f3f154fb2/casechecker.py
2	1	Should be tied to the wiki it was started from, like the other global actions, in my opinion.
1	2	â€¦this (usage of setdefault) would be unnecessary.
1	2	Do we need to enforce the same type for all elements in the array, or do we not care as long it's one of the string/numeric/numeric string primitives?
1	1	Then this one can use SHA1 and another patch could change the existing instances.
3	1	I'm fairly sure Siebrand would say yes, we need the additional message. Imagine some language phrases the interlanguage-link-title message similar to ""$1 in $2 language"", e.g. ""PoÃ©sie in French language"". This is not appropriate for non-language sites, hence the need for the additional message.

I'll fix the $languageLinkTitleText case, thanks for pointing it out.
2	1	I did not get your point, please fix it as you think appropriate.
1	1	This changes the semantics... you actually want to die if there's no Title given, but we have a pageid.
1	2	Is there a selector you can use with $.closest so this doesn't look so godawfully clumsy?
2	1	New messages don't have description in MessagesQqq.php or maintenance/language/messages.inc
1	1	You can't make changes directly to OOJS directly here.
You need to check out the oojs repos (gerrit.wikimedia.org:29418/oojs/core.git & gerrit.wikimedia.org:29418/oojs/ui.gt), make changes there, and once they are merged create a separate change which updates this concatenated file. Then you can rebase onto that change.
1	1	hmm, I use dd, and use rdb01, 02, rather than 1, 2. Not sure how to standardize...
1	1	Is this marked 'latest' in the other place it's defined?
2	2	Right. Then why do you have the method_exists() check? It looked like you meant to check if a method exists before calling it but then never called the method. Just type hint $article as a WikiPage to make this clearer and get rid of that check.

last_edit_title definitely needs a rename.
1	1	this parameter doesnt currently exist in compat; I dont know why it is being introduced here.
1	1	title.getPrefixedDb() gives the target article title, but in the apply() function it's looked up by href, which may be a redirect title.
1	1	This line ought to use the variable to say:
'token' => ""A token previously acquired with $action"",
1	1	Hook parameter.  I need to print it, I think it holds the CentralAuth ""Logging you in to the following wikis""
1	1	I'm not sure if that should be a staticmethod or a module function.
2	1	Oh right the $ to global is a nicer idea.  I have just removed jquery statement and did not add the global.  That is just a few errors and they do need fixing.
1	1	This should be references with an 's' â€“ see Cite.git, i18n/core/en.json line 38.
1	1	Yes, and it does. I submitted an amendment with a better comment explaining that.
1	1	Why did you add this back? It's not needed as far as I know.
3	1	Ahh, I see.  :)

I'm not seeing an isEmpty() method for the Cursor class.  Should I check for moveToFirst == false instead?

Also, while I'm on this, is there a reason we call the CursorLoader parameter CursorLoaderLoader and the Cursor parameter cursorLoader?  Can I change them to just cursorLoader and cursor?
1	4	I really dislike modifying unrelated code. (All around.) All this is going to give us is merge conflicts. You're not even consistent, you left ""$(this)"" unchanged.
2	2	Minor and optional cleanup: I think we can drop support for mw:WikiLink/* at this point both here and in magLinkRe.
2	2	Woops! Sorry. I'll fix this in the upstream (well, it's my upstream after all) and add a patch to the queue to update the library.
1	2	inline-block elements default to vertical-align: baseline. I don't want this I want top. I'm not sure how I can make this comment more descriptive...
1	2	This is unnecessary, only MWExtensionInspector uses nodeModel
1	1	setPageTitle() takes a Message, so no need to change anything here.
1	1	Should probably say ""... we are not clicking on the menu button""
2	1	@BearND You're probably referring to the idea of returning the normalized location of the face (instead of the absolute coordinates in pixels)... I think we can take care of this in a subsequent patch; and it's not immediately clear whether it will simpli
1	1	Can we write a test for this? It seems to be an important semantic aspect of the interface, worth recording.
1	1	I think columnName is a property that indicates a column's name.  I'm going more for ""which column should we extract from the file"".  I thought about maybe columnToUse.  I'm not sure because this configuration is going on a wiki page.  I'll change it for clarity, we can think about it more when we do the mediawiki change.
1	1	Well you could combine both:

  match = self.site.redirectRegex().search(oldText)
  if not match:
      break
1	2	So does this method import to both the in memory cache and the disk cache? If so, that would be the source of some performance hits. 

This method should:
1. Add the image to the in memory cache synchronously
2. Add the image to the disk cache asynchronously

If it doesn't do this currently, lets split the logic up now.
1	2	I assume this is something that's required if signature is not provided? If so; throw an exception here; or remove it completely from code.
2	1	This was directly copied by Special:Random, but you are right.
1	1	Say what the commit does (add release notes, apply CSS only to content, formatting fix).

If you want to put an ID, put it in the body (and using the git SHA of the previously merged commit is better so it works on both GitHub etc. and Gerrit).
1	1	Use a proper sentence, and this routine does more than that, returning encoded version.
1	1	P.S. - now that this is an attribute of the campaign, not an action, we need to change the i18n string to ""Archived""
1	2	how about use default wikitext namespace (see getDefaultWikitextNS below) or allow specifying namespace as an argument?
1	1	To elaborate: @param and @type are only used for functions and methods. But this docstring is describing the module and a module has no explicit parameters (you could say they have sys.argv but they don't need to interpret them).
1	2	am i confused, or will this get the above error ""Invalid host name (docroot="" . $docRoot . ""), can't determine language."" ?does it need to be in an other ""} else if {""?
2	4	I swear I read somewhere on Smashing magazine along time ago that all pseudo selectors are less performant but I can't find such an article. I can only find these 2 references (not sure of there credibility):
* http://stackoverflow.com/questions/4082077/first-child-is-too-slow-alternatives/4082105#4082105
* http://www.onextrapixel.com/2012/05/03/css-tricks-how-to-speed-up-css-rendering/

I think the main thing I would say is whilst integrating with VE we should avoid them where possible. Use of first-child might invite us to use last-child and other selectors based on the idea. I do think we should be avoid nth-of-type and nth-child at all costs but I'd expect first-child and last-child to be less evil!

That said browsers are getting better and better these days and we could just make the decision that we will use them and wait for browsers and VE to catch up.

As tech lead, let me know what approach you want us to take. Happy either way. Please can we get the outcome documented on the coding guidelines page?
1	1	The output HTML is along the lines of ""<dt>{{int:this-message}}</dt><dd><a href=""/w/api.php?lots=of&parameters=here"">api.php?lots=of&parameters=here</a></dd>"". The colon seems implied by the <dt>; I'm not sure whether it should be added in the messages or with CSS or just left implied, or if we should have these be punctuated as sentences and ignore the semantically-implied colon.
1	1	I guess jcuken is an alternate keyboard. How will we test it? Narayam does not support non-qwerty keyboards
1	1	This entire code above this comment can be deleted as long as the ""dp = node.data.parsoid"" is fixed to set it to {} when node.data or node.data.parsoid is missing.
2	1	This isn't the most descriptive hash - page could mean many things.
Although it is run on the Special:Nearby page we should write this code on the basis that it could be run elsewhere - in which place page could mean a lot of things.

Suggested would be:
#/nearby/coords/42,4
and
#/nearby/title/San Francisco
1	1	Agreed, it would be better in a different tree.  It does need more documentation and testing for other applications.
1	1	Is this still needed? I'd propose to only accept a parsoidConf instead.
1	1	I'm not sure why you need getters for $this->recall and $this->tex. (Maybe you're just preserving the existing interface -- in that case it's OK.)
2	2	mw-mf-overlay-header seems like a rather meaningless class name. I wonder if we should move away from it to something more meaningful?
1	2	Yeh I use this because it is a static method and has no concept of context.
It confuses me most of the time but this is the general rule - use msg when you have a context, wfMessage when you don't.
3	1	Do you need to check $result['edit']['result'] === 'Success'?
3	1	Yeah, done. Removed the function and function calls. Thanks.
1	1	I put it here because i think it belongs to the Apache site more than other places
1	1	The incorrect spacing gets fixed here - https://gerrit.wikimedia.org/r/#/c/121369/
1	2	I generally prefer not to be credited in source files.
1	2	This is done now. The regex will now not be applied on some invalid versions where it was before. Some types of invalid versions will still match the regex, though that is outside of the concerns of this function. It is not a version number validator after all.
1	1	The name seems overly specific. This queries the list of entity pages, so perhaps EntityPageQuery would be a good name.
1	2	So per discussion with Roan and yourself, we want to avoid doing shell executions just to calculate the timestamp (GitInfo uses shell exec to git's bin to get the timestamp for the latest hash), as that would be slightly expensive for the startup module (every 5 minutes) and make this method more expensive than the actual module getScript, which ironically doesn't even need shell execution.

Instead let's version this module based on the hash. You can look at core's ResourceLoaderLanguageDataModule for an example: https://github.com/wikimedia/mediawiki-core/blob/6c278b6d7eb3c4516888e25a21101ad7508f48cd/includes/resourceloader/ResourceLoaderLanguageDataModule.php#L110-L127
1	1	This is not needed for files that only contain classes.
2	1	If it sounds funny, I should fix it.  Your explanation is a good approximation of what's happening.  We are limiting traffic...  Any suggestion for how to improve?

Hmm, I think I see what you mean.  We are not changing the amount of traffic, just the proportion of that traffic which is ""going"" to the campaign.  What about, ""Throttle impressions""?
1	1	It's feeling funky and not particularly DRY in here.  Do you think we should have a more consolidated response handler, then have these functions simply access already processed data?
2	1	This whole last block from line 187 to 191 could be simplified to 

return skipIfLastMatched != null && skipIfLastMatched && cache.lastMatched;
3	4	Ah, good catch. I didn't see the enclosing call to the Title class there. I was assuming the output of $request->getVal( 'title', '' ); was being passed to $request->getVal( 'returnto', .. );

Seems some really nasty logic going on with re-using variables and type-casting to strings etc.
1	1	change this to /srv/deployment/mathoid/mathoid

the duplicate mathoid is so if you have any other repos (eventually) or a temp dir, or an output dir, it can all be in the same place
1	1	The point is to use double quotation marks "" instead of single quotation marks ' for consistency within MediaWiki core and all extensions.
1	1	Because of presence of data-parsoid, this is not a new block level image. Title or test needs editing.
1	1	Shouldn't be here (or anywhere, see my comment below re select).
2	1	It's a nice feature; does it cause a particular problem?
1	1	This means the folder structure is not as expected?

I guess we had always as follows:

/pywikibot
/pywikibot/comms
/pywikibot/... <others>
/scripts
/scripts/i18n
/scripts/maintenance
/tests
/tests/data
/tests/i18n
1	1	Are these data representative of the inputs that the function receives? AFAICT you're not storing individual collections in sub-pages.
2	1	mmm.. seems that adding one more cookie will have issues with caching and varnish. 

Please note this cookie has no expiration thus  is a session cookie and data will be deleted if user closes the browser (not saying that that is bad but rather that this is not really ""persistent"")

Also this data is not encrypted thus searches are visible to anyone if stored this way. Did you run this code by @cstteipp?
3	2	But not how it's currently implemented. Instead the interwikimap should be consulted to see whether a interwiki link is local, and as soon as a non-local interwiki link is happening throwing this exception (but as InvalidTitle of course).

How is en:meatball:Foo an invalid link? I've added that to the link tests and it's fine. And en:meatball:en:Foo doesn't work as the meatball wiki appears to have no interwiki map.
2	1	I wonder if there's a point in using Revision::newFromId( $revid, Revision::READ_LATEST ) when $revid !== null. Or maybe doing it on-demand from the callback below.
1	1	No, /index.php/Foo is an Apache-mod_php-ism, not a guaranteed feature. Standard PHP anywhere else does not include that handling.

You're going to have to explain how you expect 'redirected from' from a HTTP redirect would be handled. Because so far everyone who's attempted to turn redirect pages into HTTP redirects while preserving 'redirected from' properly has failed.
2	1	Hm, alright, fair enough. Most of the code I've seen uses mw.msg(), though.
2	1	This works. :) Still, I think it might be nicer to do the check and call the error page from showBannerEditor(), since that's the method that mostly deals with output. This method just returns an array for form generation, and may be called more than once in a single request.
1	1	Why not put this in begin(), so that all subclasses will have the trxFname logic?
3	1	Yep, not sure why it was using a string there. Thanks.
1	1	A title being edited will not show up in action=post-history.
1	1	There should be some separation of code from the rest of the text, even if it's clear that it's a URL, to ensure that nobody gets the idea to translate it. <kbd> may be enough, but having quotes, too, is a good idea.
2	2	This makes the footer tuck up against the edit box nicely.
1	1	The three tests above that checks namespaces should probably grouped together. They seems to be copy pasted and just change which setting is gathered.

You could uses a dataProvider too. That will build an array of tests cases and pass the case to a test method.  Anyway, you should extract the foreach / assert in a new internal method such as assertNamespaceIsValid()
1	2	These should *not* be 30 days. The default in mediawiki-core is 5 minutes and we use that in wmf-production as well, including all users and for large wikis.
2	1	Agreed. We will need to get this repo setup and populated before these changes are approved and applied on any hosts.

Can anyone confirm if I have guessed an appropriate name for the repository?
1	1	I'll let peter decide what he wants to email; but changed the subject to include the host name.
1	2	not changed here, but the cast to sting seems rather pointless
1	1	I think you also need to add -.7em to this 24px. That number comes from the .fulltext-search left and right margins. Otherwise there is a horizontal scroll on the page.
1	1	Copy the password hash from $oldCentral to $newCentral?

You should probably run that idea past Chris first.
1	2	would be better to directly get rid of these functions, instead of merely deprecating them
3	2	changed to prefix operator++ (and further down in the code, too)

I had it mostly coded with date serial numbers, but had to make functions that are available for class Date. I could only find appropiate date serial number functions in the sc/addin/analysis module, a module that I would rather move entirely to the 'normal' calc function module once the Excel-analysis-addin can be considered obsolete. IMHO that would reduce the complexity of the calc-function code.
I will peg Date to date serial number conversion as a toDo item on my lo-task stack.
2	1	GetDate() does not return a date serial number, it returns a ""formatted"" number with YYYYMMDD, see include/tools/date.hxx how nDate is stored in init(), which is returned by GetDate().
1	1	Why an extra header file? The definitions can go directly to settings.cxx
1	2	These 2 functions should return const OUString& to avoid unnecessary copying.
1	1	This entire change is probably moot if the corresponding aFunkMarkExt was passed to the ctor, see comment in viewfunc.cxx
1	2	Using a direct english string here means it can't be translated :-(

You can do a grep for e.g. RID_SVXSTR_LOAD_ERROR for a sample trivial translatable string example you can follow to get a translatable string here
2	1	Why would you remove it ? Please keep gid_File_Bin_UnpackUpdate untouched.
2	1	please make the comment style consistent (so here it would go behind *pDfltFrmFmt)
1	1	stylistic issue - declare variables as close to the first use as possible
1	1	what's the rationale for dropping the odd ""& 0xFF"" here but not in other places?
2	1	Please verify this is correct :-). This is as far I know the ""most special"" change I made, other then the OUString things.
1	2	Tying this to --invisible is not correct. With --invisible there is no UI, so collaboration would be quite challenging ;-)

I think with a proper Listen/Unlisten implementation we do not need a command line option at all, or do we? A ""listen always"" option instead should go into the user configuration at the end, IMHO.
2	2	Is there a reason we are not doing stuff like the below, which seems to me would better across a wider range of machines:

// lockFocusFlipped not available before OSX 10.6
if ([pimage respondsToSelector:@selector(lockFocusFlipped:)])
{
    [pImage lockFocusFlipped:YES];
}
else
{
    [pImage setFlipped: YES];
    [pImage lockFocus];
}
3	1	Hi Miklos,
I have mentioned the relevant comments for this impacted UT in the commit message as well. Kindly have a look. Thanks.
1	1	Also here, not MX/RX but instead

 {..., 4, 6, V, { VR }, ...}

compare with ""BETADIST"" and ""BETAINV"".
1	1	shouldn't it free the allocated memory here and return null if mkstemp() fails?
1	1	If this line is removed the rDescription parameter name (and only the name) needs to be commented out because otherwise in an --enable-werror build the build breaks with ""unused variable"".
1	1	same as above, aStr += m_sFormula.copy(nFml, nStt-nFml)
1	3	here the indentation is wrong ;-)

However, the main question is if the assignments should be aligned in a line or if a single space would be enough indentation...
1	1	These nOpCode have of course to be eFacOpCode then.
2	1	Please don't mix whitespace and function changes in the same patch, just avoid this additional newline.
2	1	Hmm, what is this misterious newly to be created LangID value? I've put 452 but I'm not sure...
2	3	I believe you just need to convert directly.

Look at sal/inc/sal/log.hxx, it seems to verify if the test is true(in this case if these strings are equals) and show the message

If we're wrong, someone will tell us :)
2	1	not sure how important this is, but other lines seem to have a tab at the beginning of the line and the added lines uses spaces. :D
2	1	That instead should be

 const sal_Unicode* pParseEnd;

because rtl::math::stringToDouble() expects

 sal_Unicode const ** pParsedEnd

at that place. Code probably shouldn't even compile like it is.
2	1	Please don't translate and make code changes in the one patch - keep this seperate.
1	2	It fills the functionname <-> opcode mapping from a list of text resources in RID_STRLIST_FUNCTION_NAMES in formula/source/core/resource/core_resource.src
3	2	Thanks a lot for your review.
What do you think about ""in the adapted class""?

Anyway, I'm going to bother some of the guru to hear what they think about it...
1	1	This says 6 parameters, of which 3 have to be given and 3 are optional. If the function expects 4-6 it should be

 6; 0; 0; 0; 0; 1; 1;

You can check in the Function Wizard what/how it is displayed.
2	3	Same here. Please, use empty lines instead of the ugly separators in this file. It is too compact and hard to read after your change.
2	1	OUString::replaceAll does not modify the OUString but returns a new OUString instead.
this means that when converting an existing String *Replace* call you need to assign the returned value to the original string.

you should get a warning about an ""unused result"" here but strangely
i'm not seeing a warning with gcc 4.7, no idea why...
at least the Clang tinderbox caught the problem.

fixed in commit 03a381eaa58d77cf26dfa8d916d1ecda865c1937
1	2	this is bogus: for IOS now both --with-darwinssl and --with-nss are set
1	1	Do not remove the entire statement, SeekGroup() has side effects.
2	1	use functionDecl->getLocation() instead of functionDecl->getSourceRange().getBegin(), so the caret is nicely positioned under the start of the function name
1	2	This needs a

 (void)e;

added for the non-dbgutil build to not bail out with werror, doesn't it?
1	1	Well - these files are still generated by autogen.sh, if no autogen.input is present. And when I asked on IRC, people told me they are still used.

Actually I was told to keep the minimized info message to move config from autogen.lastrun.bak to autogen.input, instead of some more prominent header.

I actually don't see a reason to deprecate the configuration via autogen.sh commandline arguments. For me autogen.input is just an other way to configure stuff.
1	1	The built search tree of mdds::flat_segment_tree is not preserved on copy/assignment. You have to call build_tree() here. Or do it just before use (and use is_tree_valid() to check if it is necessary, as every line is used more than once).
1	1	There is a comma missing after share/gallery/sounds .
2	2	No globals please if at all possible.

But more generally, this is a base class - please stick specific functionality into derived classes. You already did that in SlideFragmentHandler for parts of it - for PPT_TOKEN( text ), when it comes in the SlideFragmentHandler context, just generate a new child context - e.g. like new SlideTimingContext( *this, mpSlidePersistPtr->getTimeNodeList() ) in that file.

With that, you will get rid of that global state anyway.
1	1	should this patch only be added if $(SYSTEM_MYSQL) is NO ?
1	1	Note that these can be usually written simpler as just """" instead of OUString().
2	2	Can we _please_ use short-log message a bit more
useful that this.
imagine how nice it is to have this kind a message when
searching for a candidate for a regression in 200+ commits
2	1	The change here reminds me that also some of the new oc..._MS opcodes may need an entry here. Could you take care of those in a follow-up patch?
1	1	the old code only replaced one instance not all but the string shouldn't contain more than one anyways...
1	2	By the way, why are you adding patches for specific platform w/o $(if $(filter blah?
3	1	Yes, this is correct! The error was introduced by bbc94edb9a91b27910d43610db9994df10dd99e1
2	2	How is determined which of the opcodes is actually taken during import of _xlfn.CEILING.MATH ? I think that's missing.

Note that now that we use RID_STRLIST_FUNCTION_NAMES_ENGLISH_OOXML with the formula compiler, the tables in sc/source/filter/oox/formulabase.cxx are only provided for API support (of which we actually don't know if anyone is using it at all). Our internal OOXML import/export doesn't use them anymore, so any ""only for import / only for export"" usage needs to be implemented differently.
1	2	tdf#... is unnecessary. Rather document why this is done, if necessary.
1	1	that's presumably about css::util::Time (corresponding to an offapi UNOIDL struct), not tools::Time that's not part of the URE interface and not accessible from external code
2	1	The replaceTo will need to use the newly to be created LangID value.

Same as for bo_CN, are the codes verbatim copied from dz_BT in which case only a ref=""dz_BT"" would be needed? Or aren't some needed to be adapted to IN country conventions?
1	1	The word ""Selected"" should be capitalized. I'm unsure of the use of ""Area"" here, BTW. Maybe ""Cut Selection""?
1	2	Yes it could be done but we will have to add level number for each valid level. I don't know it will cost more or less than just ""0"" for each invalid level because normally for now all level are valid.
1	1	should be a local typedef in the single function that uses it
1	1	this code now returns a reference to a temporary object
2	1	Please note the comment on SC_GLOBSTR_STR_COUNT, which is the overall count of strings. So actually you need to insert and define STR_TABLE_COUNT to 533 and increment the value of SC_GLOBSTR_STR_COUNT to 534.
1	2	actually, if we get rid of nIndex, we would have to change a lot of code, because in this one, the Insert method returns the index of the inserted/already existing element.
1	2	I don't see why we should reject a number entry that we can ""understand"", just to adhere strictly to the locale, but I'll ask an expert what LibreOffice does in other areas, and we should just ""do the same"".

My assumption is that we should definitely accept native digits, but why reject ASCII digits?
1	1	Can you clarify what is meant by ""ListBox => PreNotify() ...""? That doesn't make things any clearer...
1	1	These two comments seem to be for the block of commands.
1	2	does this create a copy of the vector?  iirc you need to write ""auto &"" to get a reference.

(of course C++11 has added new ways to shoot yourself in the foot)
2	1	aChild is a ONDXPagePtr which is derived from  SV_DECL_REF(ONDXPage) which has an ""ONDXPage & operator*()""

but the old code called operator<<(ONDXPagePtr&) which does something different than the ONDXPage& one!
2	1	please remove ""border"" and blank line between class definition and comment and consequently reduce it to a single line
1	1	what ""ActiveX"" thing do you want to remove and what does it have to do with NPAPI?
1	2	might as well drop the conditional and just assign it
1	3	i thinks that's the wrong one, the one that should be FROM is the ""pl"" library
2	1	the condition !pProfile->m_bIsValid must always be true here, so rather use SAL_WARN
1	2	Sorry, this is still unacceptable. ImplEESdrWriter::ImplWriteShape() is used by both the binary export and the OOXML filter, you need to set the OOXML flag in the OOXML filter. Jut put a breakpoint on this line in the debugger, see its backtrace, and set the flag in the first method that is already OOXML-specific, and pass the bool around till this line.
1	1	Better would be to have

 if (nGlobalError)
 {
     PushError( nGlobalError);
     return;
 }
 if (aInputString.isEmpty())
 {
     if (GetGlobalConfig().mbEmptyStringAsZero)
         PushDouble(0);
     else
         PushNoValue();
     return;
 }
1	1	See other comment about OUString together with ScResId. Just as short explanation:

The current code creates a SchResId object which has an operator OUString which is called here. Then the OUString copy c'tor is called to generate a copy from the returned OUString.
1	2	>OTOH we might grep in ""$@"" for ""project:"" and only add project:core if none was given.
but then we could do the same with branch and status: default branch = master, default status = open => logerrit query would be translated to core/master/open. How about it?
1	1	For the final commit remove ""[part 2of 2]"" and join the ""ODFF function FDIST"" to the first summary line.
2	2	Conversion was done for binary files to be stored in earlier formats. Encountering such versions isn't the case anymore with copy&paste and conversion would never be executed, so that code could be removed along with the check. If you want you can remove that code in a follow-up patch, getting rid of unused code is always good :-)

Probably the reason why you had to add the check if a version is set at all is related to that, actually the stream should have the version SOFFICE_FILEFORMAT_CURRENT set so all parts involved elsewhere that do check the version get that correct. Would be nice if you could spot the place where that should be done. Anyhow, I'll push the current patch as is.
1	1	If AddSdrObject() method, test goes into infinite loop. Because there is already AddSdrObject() function with same parameter which is mandatory in both cases. So should I add new method in parent class?
1	1	the propvalue parameter type is not quite idiomatic ;)

In general - since this method gets called multiple times, prolly worth buffering the xml ...
1	2	* ""@return void"" is redundant, leave it out

* but do add a line ""@since LibreOffice 4.4""
1	1	what's the point of that open check?

shouldn't CountTTCFonts return 0 for that case already?
1	1	It is my update of this help page:
https://help.libreoffice.org/Common/XML_File_Formats
It should also link to Expert Config page, but it does not exist yet.
2	1	So that means to also change comparisons with STRING_NOTFOUND (which is defined to 0xFFFF), lastIndexOf() returns -1 if not found, so the condition here can be simplified to

    if (nPos > 0)
1	1	there is a warning ""unused variable w"" here ... i'm guessing this should compare w.size() with 3, right? i'll push a fix for that to master...
2	1	please don't do that
keep the 
if (condition)
   stmt

structure
1	1	if a comment is behind the field it describes, doxygen needs ""///<"" (with a symbolized left arrow) to realize it correctly
2	1	Here too, you can access maBaseCell.mfValue directly, since we know ahead of time that both cells are of value type.
1	1	If this is never called - then we need to remove the method, it's signature in the header, and all call-sites for it (right?).
1	1	yeah, just wondered how likely that would be in combination with OStringBuffer?
2	1	Why checking for null pointer here? delete handles null pointers just fine, you only add overhead here.
1	1	Same caveat here about indexOf() and Search() results.
1	1	Probably ""Selection count"" (note lowercase 'c') is better. This is the string displayed in the status bar.
2	1	This switches on distinct locales only, not on a primary language value where the secondary value may be different. This should instead be

 switch (ctl & LANGUAGE_MASK_PRIMARY)

and ...
1	1	Right, changing an SwField, which is part of the document model during export is bad. An export operation should just read the document model and serialize it in some format. Can't you set m_bCitation depending on what the field type is? Just put a breakpoint on the SwField constructor, get a backtrace and see where it's created -- hopefully the caller knows the field type.
1	1	presentation::AnimationEffect aEffect = presentation::AnimationEffect_NONE;
1	1	why do you need to add ::com::sun::star:: prefix everywhere, in a cxx file just do a ""using namespace"" instead
2	1	Be careful here, you should set the ""false"" only for wsp, not for sp, which is the generic drawingML shapes also used for Calc/Impress import.
1	1	I was being consistent with the hybrid pdf tooltip which used 'makes'.
1	1	Note that the rtl:: prefix removal is planned to be done by a scripted change somewhen in the near future, so while this change is ok, it should be less work for both you and the review if you do not specifically aim for these changes.
1	2	You right, but the initialize of the CriticalSection must be once, and then we have the same problem.
The problem here, we would make this Init treadsafe but we must in this init the init of the CriticalSection, and that is not possible.
My solution with the boolean is very quickly, and in the most case enough.

But i have testing, it is not a problem when the LoadLibrary called a second time, it get the same modulhandle.

Another case you give me a tip for solve the problem.

Here the docu of InitializeCriticalSection
http://msdn.microsoft.com/en-us/library/windows/desktop/ms683472(v=vs.85).aspx

Here a example: http://msdn.microsoft.com/en-us/library/windows/desktop/ms686908(v=vs.85).aspx
1	2	nUnits cast to sal_uInt16 will be rStr.getLength() % 2^16 so the std::min is unnecessary... i wonder if it would be better to use std::min<sal_Int32> or something instead so we get 2^16 if it's a large string?
1	1	Again, you must continue the original numbering and then update LAST_STR_HERE.
1	1	IMHO the probe*XML functions should simply take xmlTextReaderPtr. shared_ptr is only used to manage the lifetime of the reader, so it is impl. detail. I would even remove the typedef.
1	1	Nitpick: The pointer is only set in the ctor, so it should be const. Similarly in KEY2StyleContext.
2	1	Put this into a DEPS variable and reuse the value above in gwt_module() too?
4	1	Oh, thanx!
I actually did not know that it was possible ... like Code Review for team learning :-)

Will fix in the next patch-set.
2	2	I don't think the comparison with the SshCommands (or RestViews) is fair. For SSH commands we have a simple lookup by command name and it is all that matters.

For project rename tasks it may be (and probably is) critical in which order the steps are executed. It is not just a set of tasks that can be done in any order. For a critical command
as project rename the order of tasks execution should be explicit. At least it has to be documented. Right now, one has to look in the TaskModule, then in the DynamicSet and find out that, internally, it stores its items in a list which means that the iterator() will iterate in the order of the elements as they are in this list. And this is not even documented/guaranteed behavior of the DynamicSet.
1	3	This creates an unnecessary garbage list. Sets.newHashSet should accept an Iterable.
3	3	Thanks for fixing it.

> What if the author disagrees with your negative vote and writes a reply to your comment explaining why he disagrees? If this change is filtered out there is a high chance to you miss this reply. 

But with this argumentation it is even more dangerous for me how it was originally:

  -label:Code-Review=-2,user=self

Why? I am maintainer and have power of -2. I review a change and decide to put my veto on it. But we all do mistakes, we all have feelings? In the end we are all people. What is if it was a wrong veto? The contributor try to explain me, in additional comments why he thinks the veto was wrong and that the impact of the change is *very* minimal and that thousands of people from hundreds of companies can't upgrade to the new version of the product and all that because of his veto. Nothing helps. Why?

Because I used your dashboard template, put this line and this change was filtered out:

   -label:Code-Review=-2,user=self
4	1	Ahh that's funny! :D

Good that you payed attention!

Done
1	2	Two trivial comments:
-Why the leading ""d""?
-Why not %x instead of %d for the row version?
1	1	Moving this logic to ProcjectControl will also require additional modifications in ReceiveCommits. My approach fixes both issues in one place. Also this approach protect us from making same error in future.

Personally I wouldn't move this logic to upper level. Signature of this method can be changed to canCreate(Map<Stirng, Ref>, RevWalk, RevObject) instead of using Repository. But IMO will keep this logic here  to prevent from this issue in future.
2	2	that way you wouldn't create the list (line 174) and throw it away (lines 183-185 above):

 public void addAllReviewers(ChangeAttribute a, Change change)
      throws OrmException {
   List<PatchSetApproval> approvals =
        db.get().patchSetApprovals()
           .byChange(change.getId())
           .toList();
   if (approvals.isEmpty()) {
      return;
   }
   a.allReviewers = Lists.newArrayList();
   Set<Account.Id> accountIdlist = Sets.newHashSet();
   for (PatchSetApproval psa : approvals) {
      Account.Id accountId = psa.getAccountId();
      if (!accountIdlist.contains(accountId)) {
        accountIdlist.add(accountId);
        a.allReviewers.add(asAccountAttribute(psa.getAccountId()));"	
      }
    }
  }
2	1	Concatenate the calls to append:

 StringBuilder msg = new StringBuilder()
     .append(""n"")
     .append(""Can not find the %s at this location: %sn"")
     .append(""Please provide alternative URL"");
1	1	I suggested to add aliases = {""-#tag""} in this comment:

  https://gerrit-review.googlesource.com/#/c/60106/8/gerrit-server/
  src/main/java/com/google/gerrit/server/git/ReceiveCommits.java@1155
1	1	Instead of putting everything in the collector and then looping through later when outputFormat==JSON why not switch here on outputFormat and thus allow results to be printed immediately for JSON and collected only for JSON_SINGLE?
2	1	Yes.  Actually, look at what I just merged to master with the query operators, in particular you might want to read the documentation in user-search.txt.  You can write a query to identify changes that can be submitted:

  is:open CodeReview+2 Verified+1 -Verified-1 -CodeReview-2

If we put that string (minus the is:open part that would be implied) into your field, it means what you want it to mean... you can submit this only if the above expression is true.

By making it a single string, all you need to do is feed the string from the table through the ChangeQueryBuilder to get a Predicate<ChangeData>, and then run match() on that to see if the submit is possible.  That completely removes the FunctionState mess and starts to move us into this configurable submit logic that we have been discussing for quite a long time.

So the existence of that ChangeQueryBuilder and its Predicate support classes is why I was trying to steer you into a simple string here.  We have the code already done to handle that as a string, and users can use the same syntax to search for changes as they can for controlling how we manage them.
2	2	Well, they don't actually.  There is a distinct difference.  All same-project dependencies point directly to commits.  All cross-project dependencies point to changes.  The reason for this is two-fold.

* I can't point directly to a commit in a different project because that makes circular dependencies impossible which is really important and I probably wouldn't be doing the change otherwise (this change supports circular dependencies, btw)
* I determine whether or not the dependency should point to the most recent commit based on whether or not it is in the same project (that's the code here).  There's no way I can store metadata about whether this should point to a commit or a change in the PatchSetAncestor's table without changing the schema.
1	1	It was only referenced from the description text in rest-api-accounts.txt which is deleted by this change. Since the JSON entities of the REST endpoints are described directly in the REST API documentation I've moved the description of the QueryLimit over to rest-api-accounts.txt.
1	2	>This isn't a link to MySQL.

Done.

>I think most/all of these requirements are redundant and already covered in the general installation section?

The JDK is, but tomcat isn't.
1	1	It's now streaming the progress to the client.

Done
1	2	Perhaps I misunderstood Martins comment.

But yes. I create a new change-id in ChangeUtil, so this is expected (and by design), but it has nothing to do with the footers.

I do not change the change-id in the commit message - since that is not expected (git would never do it). I personally do not want the new change to have the same change-id (internally) as the old change. Is that something you really want?
1	1	This example contains both actual examples (""refs/*"") and metalanguage (""permission""). Maybe pick one representation and stick to it?

 [access ""<ref>""]
         <permission> = group Administrators

or

 [access ""refs/*""]
         read = group Administrators

(Open re what formatting to apply to metalanguage.)
1	1	Since this cache is not defined using a CacheModule gerrit will not list it from its ""show-caches"" command. Right? And we also have no way of flushing this cache since it has no name.
2	3	Yikes, we are starting an RPC for every row in the table?  My concern with this is the browser can only issue 4 requests at a time to the server.  If a user has 50 items in their dashboard, which many do, this will take quite a few round-trips (13!) to completely load the status codes.  Worse, if the user navigates away before they are completely done loading, they will continue to load, as there is no way to cancel the queued RPCs.

I would prefer having myApprovals and strongestApprovals take a Set<Change.Id> and return a Map<Change.Id, Whatever>, and make only one call to each method for the dashboard.
2	3	I don't think we should let people modify a branch that they don't have access to, even if it is for a commit that they are replacing that used to be in another branch. Locked down is locked down, right?

I see how it might be annoying to have to redo a change if you used the wrong branch the first time, though... Perhaps there is some Git magic that can let you do that painlessly?
1	2	What happens if match is missing or empty? Does it do something sensible when trying to match against an empty pattern, or should such commentlink rules be skipped (e.g., with a 'continue;' statement here)?
1	3	No need for Provider here, inject FlushCashe directly. Both PostCaches & FlushCache are singletons. So the Provider hurts more than it helps here. E. g. on line 105 it get called in a loop and returns allways the same singleton instance.
1	1	I checked, and git does not clear the environment to run hooks. I also can't find subversion's reasoning around clearing it, so barring finding out that there's a good reason to, I think I'll just remove this line.
1	3	This just feels wrong. The test setup code should not be writing to the notedb separately; there should be a method in PatchLineCommentsUtil that writes to the appropriate storage(s) based on the config.
1	1	* Bumping the schema number forces a reindex to pick up the new file format.
* LuceneChangeIndex has:

    this.useDocValuesForSorting = schema.getVersion() >= 16;
1	1	I did that change, though I personally feel it's a slight step backwards (adding complexity to the code base and to the user because it's behaving differently for different servers now).
1	2	PatchTable$MyTable.onClick(ClickEvent) line: 299 will also call  movePointerTo(cell.getRowIndex());

 sorry I try every corner and cannot find the difference after adding this line.
2	1	--add will add a value on top of another/others. The above line will replace any previous value with this one. Not sure which effect the author is looking for, but I personally don't understand why you'd want to have several download.scheme variables?
1	2	This does not correspond to an issue on the gerrit issue tracker [1].

Issues should be listed in the change footer in the form:

 Bug: Issue 1234

[1] http://code.google.com/p/gerrit/issues/list
1	1	You are missing Schema upgrade and SchemaVersion. See for example this change [1].

 [1] https://gerrit-review.googlesource.com/#/c/56641
2	1	The check 

  item.getUrl() != null

is not needed.
1	1	Combine both the if statements into one single if statement.
2	1	Should it be possible to rebase the change if having submit permission, but not rebase permission?
1	1	I don't want to change the actual messages in this change for reasons stated above.
2	1	It looks like this allows a user who cannot see all branches to probe which branches exist. By looking at the error message ""it doesn't exist"" vs. ""user does not have rights to delete it."" a user can detect if a branch that is not visible to him exists.
1	2	Used AccountCache. It feels a bit weird that if we do a bulk load we have no way of setting the results on AccountCache. Perhaps that class should be extended so bulk loading is faster, but that is beyond this change. (Slight aside, Guava caches don't have any first-class bulk loading functionality, sadly.)
1	1	I wonder if eventually we should put these in the file table as well :)

Not in this change, though.
1	1	Hi, so should we keep this as ""local"" or change to ""mergeStrategies""?
1	2	I'm not really liking this name, maybe just 'Resources'?
1	1	If a user term isn't returned I believe you'll get NPEs when displaying lists of changes. That's why I wrote https://gerrit-review.googlesource.com/35201 so that this error is discovered early and is properly reported. I was a while since I looked at it, and the code might've changed since then, so don't take my word for it.
1	3	It feels wrong to be doing this sort of checking in this class, it is huge already.  I suspect that passing in the appropriate merge strategy via the factory would be cleaner.
2	1	Is this necessary though?  Would anything bad happen if we encode to utf-8?  Also, it looks like this exists to make sure that we aren't using utf-16 or something else, in which case we would definitely want to keep this even in python3.
2	1	Correct, I mentioned in the commit message that it's undocumented.
2	1	We probably should ensure the project is clean before doing this, otherwise a user might lose uncommitted changes they care about:

  project = Project(
    manifest = self.manifest,
    name = path,
    remote = RemoteSpec('origin'),
    gitdir = os.path.join(self.manifest.topdir, path, '.git'),
    worktree = os.path.join(self.manifest.topdir, path),
    relpath = path,
    revision = 'HEAD')
  if project.IsDirty:
    print >>sys.stderr, 'error: cannot remove %s: uncommitted changes are present' % project.relpath
    print >>sys.stderr, '       commit changes, then run sync again'
  else:
    shutil.rmtree(project.worktree)
1	1	Done in https://gerrit-review.googlesource.com/38303
1	1	More or less the same steps as described in the comment Sep 13 11:50 AM change:

 https://gerrit-review.googlesource.com/#/c/46171/16/gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitModule.java

Can you try it with non existing H2 Database:

 <Resource
    name=""jdbc/ReviewDb""
    type=""javax.sql.DataSource""
    username=""""
    driverClassName=""org.h2.Driver""
    password=""""
    url=""jdbc:h2:file:/home/davido/projects/test_site_auto/db/ReviewDB""
    maxActive=""100""
    maxIdle=""20""/>
2	1	nit: wording.  the sentence doesn't make sense. perhaps:

Support creating a request for authentication of a remote...
1	1	For this case a regular expression is not needed, it could be simply a ref pattern:

  branch = refs/heads/video-1.0/*
1	1	Just use 10px. I also rebased on latest master and adjusted look and feel of buttons here to match the changes made in context of [1].

 [1] https://gerrit-review.googlesource.com/62460.
2	1	I've double checked the (REST) command i used to delete emails.  It wasn't a typo because I used the exact same command with an admin user and it worked just fine.  It was only when I used the user with canModifyAccount permission that it didn't work.   Could the 'not found' message be from the Email.parse() in Email.java requiring Administrator permission?
1	1	Even though not merged yet, the date probably shouldn't get updated.
1	1	Why not to include topic when this really implemented?
2	2	As far as I can tell from documentation, no exceptions are thrown.  Reworking it slightly anyway (move chdir closer to _FindOrphans loop) and adding try/finally for safety against possibly careless maintenance programming.
1	1	OK.  I'll check if [1] still works with asiidoctor before pursuing it any further then.

[1] https://gerrit-review.googlesource.com/#/c/49451/
1	1	I got the idea for adding such a message from your change (only you had it even more verbose adding a message per approval that was copied). I can try to incorporate this into the patch set created message, but not sure if this is easily possible.
1	1	""that all 4 projects are imported"" or ""that it imports all 4 projects""
3	1	I think as long as it's explained in the dev instructions you're checking in, this is fine.
1	1	Sure, we could do it on master, but then the old API has to remain in 2.8.

I'm working on updating this change to what I was thinking. I'll upload a new revision in a few hours. Let me know if I should send it to master instead.
2	1	Yeah, but this is usual wording we are using:

 $ git grep ""member of the privileged 'Administrators' group""  | wc -l
 20
1	1	Be consequent with naming of method an var?

  isAVisible() {
    return aVisible;
  }

or

  isVisibleA() {
    return visibleA;
  }
1	1	Optional nit: this could go on the same line as excludes
1	1	Suggestion: so it is recommended that it not block...
1	1	I don't think we have parent indexed.  So you'll need to add it to the index_*.sql files, and also do a schema change to add an index on this column.
1	1	Do we have a working solution if one still need the Gerrit-Module?
1	1	as Shawn mentioned in another comment: s/wild project/AllProjects project/

more occurrences below
1	1	What happens if the specified branch doesn't exist?  Will that be caught by the check at line 154?
2	2	This was a mistake. If JGit doesn't support concurrent branch deletion we should do it sequentially :)
1	1	Must have been something in formatOne at some point. Not sure why Eclipse didn't warn me. Done.
2	1	refs/users/ is sufficient prefix. No need for refs/meta. We should be plural like changes heads and tags.
2	1	There is no putComment method. Shorten this and just put it on one line:

  checkState(psId != null, ""setPatchSetId must be called first"");

Developers debugging a failure can look at the Java stack trace to see how they got into this situation. What matters to them more is the call site where the object was misused, not which entry point into the object the error was discovered by.
2	1	On second sought: actually you don't need this file (endpoint) at all. We have already POST /changes that creates a change and what are you doing here is to delegate to its apply() method, after translating your own Input to ChangeInfo. The only reason to have this class is to get the UiAction for granted (Guice DynamicItem binding and discovery).

But you could solve this in different way: just construct UiAction on you own in ProjectJson and add it to actions map manually. See an example how it's done in InlineEdit series: [1]. Now, on the client side, from your custom UiAction you can invoke the original REST endpoint: POST /changes. The only difference to current solution: you would need to pass project name too, obviously.

This also raises the question do we want to have this button on project info screen at all? We could add it to main page (or may be just add a keyboard shortcut), in wich case we are not in project context any more and the dialog must be extended to provide project name (with suggestion oracle for project, like it already does for branches).

I don't have strong preference for one of these solutions. So, you can let it as is for now and wait for opinion of other reveiwers.

 [1] https://gerrit-review.googlesource.com/#/c/58991/14/
 gerrit-server/src/main/java/com/google/gerrit/server/edit/ChangeEditJson.java
1	1	Make these transient and lets just handle the serialization entirely ourselves.  That way we don't have to actually hold onto buf when we have the object form already on hand.
2	1	Looks like here it's too late to set the response status. When I'm reaching this code I'm getting:

WARN  org.eclipse.jetty.server.HttpChannel : /oauth?code=7eefeb8697212b7c62c2&state=wjm3XI24hnUc7A2fbZ0JaLOjmVkrEQxOMidLRy50Zfg%2C%2Flogin
java.lang.IllegalStateException: Committed
  at org.eclipse.jetty.server.Response.resetBuffer(Response.java:1253)
  at org.eclipse.jetty.server.Response.sendError(Response.java:567)
  at org.eclipse.jetty.server.Response.sendError(Response.java:544)
  at com.google.gerrit.httpd.auth.github.GitHubLogin.login(GitHubLogin.java:68)
  at com.google.gerrit.httpd.auth.github.OAuthWebFilter.doFilter(OAuthWebFilter.java:78)
  at com.google.gerrit.httpd.RunAsFilter.doFilter(RunAsFilter.java:117)
  at com.google.gerrit.httpd.AllRequestFilter$FilterProxy$1.doFilter(AllRequestFilter.java:64)
  at com.google.gerrit.httpd.AllRequestFilter$FilterProxy.doFilter(AllRequestFilter.java:57)
  at com.google.gerrit.httpd.RequestContextFilter.doFilter(RequestContextFilter.java:75)
1	2	Wasn't the trailing slash already removed when the GitHub URL was read from the config?
2	2	Hi Edwin

 thank you to have a look.
 I removed them, because current version of ProjectsTable already has these 2 lines content .
 I test this feature and  find 'k', 'j', 'o'  can work.
 
 with or without this feature, 'Enter' hot key can not work. we can test by 
 https://gerrit-review.googlesource.com.
 I ever try to only add 
 {
 keysNavigation.add(new OpenKeyCommand(0, KeyCodes.KEY_ENTER, Util.C.projectListOpen()));
 }
 but Gerrit feels not happy and give  a running time error  http://i.imgur.com/4pL2N.png.
 I guess its a bug at some corner of Gerrit.

/Bruce
1	1	Shouldn't ""reviewers"" be possessive, i.e. ""reviewer's""? Also, this sentence talks about singular reviewers, yet the next sentence uses plural (""they"").
3	1	Done

it looks like Gerrit missing a feature:
remove comments, that don't make any sense, like these below ;-)

Thanks for the hint with java_library and resource.
1	1	this should be 0.

I believe the empty username is a valid name.
1	1	Can this actually happen? Wouldn't revision have to have _number 0, so the previous comparison would be false?
1	1	nit: this import is not needed anymore and can be removed
1	1	I suppose this is readable, but it's a lot of boilerplate compared to having a single callback each for comments/drafts with the if in the body.
1	1	Right, I would assume the problem occurs when the user doesn't intend to sync to a fixed version.

However, if that's the case, I'm not sure just switching this to only happen with current-branch-only will be enough. We at least should update the docs for --current-branch to make it clear that it will have this behavior and that if all objects are desired, they should run sync without -c (either for all projects or just a specific project).
2	1	Because we don't need anything that it provides (checking that the value is not None and encoding it) so there's not much point pulling it out of the loop below. Actually, we would have to leave it in the loop below as well since it uses the `env' outer variable.
1	1	How are these two arguments joined together into the target string?  Or maybe these should be passed as-is and let the XML RPC server join them together?
1	1	This method now only sends email; I would change the name to reflect this fact.
1	1	I think this should say Alias for 'gerrit remove plugin' (see line 150)?
1	1	The previous one says ""server assigned"".  Is the difference intentional?
1	1	This works for the example I provided in the review of the patch set 4 but it still fails to render """"r"""" in a little bit different case.
For example change this file content:

2	2	Since there is a Gerrit issue [1] for this bug, can you please add a reference to this bug as footer?

  Bug: issue 871

[1] http://code.google.com/p/gerrit/issues/detail?id=871
1	1	This causes a warning about missing UID in Eclipse.  Fixed with:

https://gerrit-review.googlesource.com/#/c/59929/
1	3	Doh wait, I said what I thought it was and what it was in the previous patchset.  It seems wrong now?  This will insert an empty paragraph?
1	1	You should wrap the following code into a try/finally and close the pdb when you are done with it.
1	2	Sorry, this was not fully tested.  I wrote it on the train and just wanted to get it pushed before I lost network connectivity.
2	1	Hrm, I'm not sure how best to handle this.  StackOverflow has a 'Display Name' attribute, does anything similar exist for LDAP & OpenID?

I'd prefer to just show the firstname to save on space.  If we end up showing the full name, I wonder if we could put the name to the left of the search bar and have the search bar expand over it when active, to save on horizontal space.
1	1	all 3 log methods now do make use of the instance variables: accountCache, groupCache, groupBackend
1	1	or  ask the maintainer to commit the change on the author's behalf.
1	1	#NAME?
2	2	Nit: While assimulating is a word that seem to exist, my only association was that it was a misspelling of assimilate. This leads me to believe that it's a word that non-native English readers might have trouble interpreting the right nuance of. This is the commit message however, so in this case it isn't the end of the world, not many will read it compared to the actual guide. :)
1	1	Is this already done in the LCD code? Maybe not...
3	2	There are two RPC calls to be made to download artifacts |download| and |wait_for_status|. Sync means that you can use that artifact after |download| has returned. Async means that you must wait until |wait_for_status| has returned. This is done so that we can start kicking off a suite run before we fully finish downloading everything we might need.

The |download| call happens as part of the RPC call that's made to autotest to kick off a suite. The |wait_for_status| RPC call is made as part of dynamic_suite code (see dynamic_suite.py:450). By the time you'd be kicking off your firmware test it would be assured that the firmware tarball would be downloaded. Therefore, I would think it should be fine/safe to make this async.
3	1	Patch Set 2:

I would suggest two commits. The first one is just the import without and mods. The second is a git mv of the ebuild file to the -r1 name and enabling the patch. This is done so that we retain history of pristine upstream ebuild and then successive changes to them locally.  So in this commit just pull in the upstream ebuild  as is, and a follow on with the modification. 

Thanks
3	1	Patch Set 1: Looks good to me, but someone else must approve

Looks fine though agree with Chris's comment that exported strings should be defined in a header file that can be shared.
3	1	Patch Set 1: Looks good to me, but someone else must approve

(2 inline comments)

LGTM with a couple of small optional suggestions.  I agree that using more realistic sites to consume memory would be nice, but I think getting something up and running soon would be valuable as well.
3	2	The variable you should probably use here is U_BOOT_FDT_USE, defined in make.conf.

I agree the name is not great - we can change it if you like. But the intention is that this variable tells you which fdt to use, so there should be no need for this sort of logic in ebuilds.
2	1	Patch Set 1: Looks good to me, approved

LGTM; and yes please do upstream.
1	2	Patch Set 1:

These are used in decoding also, so yes they should obviously be enabled when possible. Alternatively, someone should rewrite all this in intrinsics and verify it's not slower.

x86inc.asm works when:
(A) we're 64bit
(B) we're 32bit, but pic is disabled
(C) we're 32bit, pic is enabled, but the final binary is linked with -mdynamic-no-pic (or a non-gcc equivalent).

x86inc.asm doesn't work when:
(D) we're 32bit, pic is enabled, and the final binary does not use -mdynamic-no-pic or a non-gcc equivalent during linking

My understanding is that Chrome on win32 does (C) (i.e. the windows/msvc linker does gcc's -mdynamic-no-pic behaviour by default), so there's definitely an argument to be made for keeping these assembly optimizations.
3	2	machine_emergency_restart is a good place for the cache flush in the sense that it is already machine-specific.

But yes it's fine to take this approach. LGTM
2	2	Patch Set 5:

> David - it used to be that you needed to land both the 
> stable and the 9999 cros workon ebuild at the same time.  
> Has that been fixed and you can just land the 9999?

That's right, you only need to land the 9999 now. (Actually it's been supported since at least Oct 2010, but yeah there used to be a bug)
1	1	Hmm I see what you mean. Yeah it might be possible to do what you describe.
2	1	Patch Set 1: Looks good to me, but someone else must approve

Would wonder about chattr during runtime, but yeah you're likely right (assuming this has been image tested too).
2	4	Patch Set 2: (2 inline comments)

the split string constants make me sad, but i'm not sure upstream u-boot has signed onto that sanity yet like the linux kernel.
3	2	Patch Set 3: I would prefer that you didn't submit this

(2 inline comments)

I don't see the need for this change. If you built with the ebuild unmodified, you'd get an image.bin which would be what you want. As far as I could tell looking at the new function, it's identical to the old one except that you're leaving out the original image.bin.

The difference between image.bin and image.rw.bin is that cros_bundle_firmware is being passed the --force-rw option in one case and not in the other. What that does is it changes the way parts of the image are put together so that vboot doesn't allow the RO only optimization even if the RO firmware claims it supports it.

The RO only optimization is where you run the whole firmware out of RO instead of jumping into an RW copy partway through. If you really don't want to enable that optimization, you can not pass that flag to vboot when running VbInit.

Even if you do want to split things out like this, it would be better to take the existing depthcharge function and to selectively build the RO image based on a use flag.


Independent of whether splitting things up is a good idea, if Mike (who knows bash much better than I do, I think) likes the style of the new function you've made, it would be nice to incorporate the style changes back into the original function.
2	1	Patch Set 2: Looks good to me, approved

I concur with jrbarnette@.  It sounds like we can do a separate issue/CL for removing the pragma.  To that end, I think a TODO() referring to that issue could be useful if added to this CL.
2	2	NIT: a docstring of this Exception would be useful. Including the error above this.
2	2	1. This seems like a hack to work around a bug -- why are we reading from the pty after it is closed?
2. This hack also looks too broad -- if any error occurs we close the pipe and stop reading, while squelching the error. This seems bad.

Same comments below.
1	2	a bit weird that you have this error change in Populate but not in the constructor
3	2	Ah.  Yes, the test_wait_for_sleep() method implicitly assumes
that sleep has already been triggered, but that won't be true if
the trigger happens asynchronously.  :-(

At any rate, looking at test_wait_for_sleep() and
test_wait_for_shutdown(), it seems like their only purpose in
life is to hard code the timeout, and raise TestFail, neither of
which you want.

So...  the right answer would seem to be to rename
_ping_wait_down() to drop the leading '_', and just call it a
public function.

Also, the hard-coded timeouts here need names, and some
justification for their length.
2	1	Is it always true for all CrOS devices that if eth1 exists it is an LTE system, and that we should use eth1 for communication in this test? I am guessing this would print out 'LTE system' on a CrOS device with on board Ethernet.
4	1	Wow! Is this really true for any of the targets?
1	2	Patch Set 4: Verified

PTAL now.  See referenced bug for scope traces.
2	2	Patch Set 1: I would prefer that you didn't submit this

(1 inline comment)

LGTM after a small bug fix.
1	2	Make sure to remove the bug description as well, it might confuse things when parsed.
1	1	nit: use die, not echo, same for all errors below
2	1	The best way to keep someone from doing this is to raise NotImplemented errors instead of pass
1	1	Patch Set 2:

This patch fixed the style errors and separated the DDR3 config change to anther commit.

Some issues Simon pointed out still need Samsung people to fix.
1	1	what does this mean? there's a scan result we currently fail to parse?
1	2	Patch Set 4: Fails

Unit tests fail for chromeos-ec so no changes can be committed until this is fixed :(
1	1	EAPI is not required to be numeric, so this will fail when it is a string
1	2	Patch Set 3: No score

Removing fails since I tracked down the failure to the previous CL.
1	1	Is snd_pcm_close() the same as snd_output_close()?
I expect to see ""snd_output_close()"" called before this return. My preference would be to see use of ""goto error_out"" or something similar in all the ""if"" failure cases.
3	1	OK here are my thoughts:

The error handling is fine, but the message doesn't mention bootstage so it isn't clear where the failure is. I think you should fix that.

set_bootstage_prop is called twice with the same path. In both cases it calls fdt_path_offset() to get the offset. You may as well just call it once here, immediately after your strncat below.

Then you set_bootstage_prop can be passed a node. In fact this function just has a call to fdt_setprop() so why have it at all? Just call fdt_setprop_cell or fdt_setprop_string instead, which are better suited to your requirements anyway

Re working_fdt, I do prefer a single reference to a global rather than multiple spread throughout the file, but if you remove the function then this is not an issue anyway, I think that the whole of this for() loop should be in a separate function called from bootstage_report() if working_fdt is not 0. It should be passed working_fdt as a parameter,
2	1	Patch Set 5: Fails

This already failed the unit tests once. Please do not submit any CLs until the unit tests are fixed.
1	1	Patch Set 1: Fails

here is the error which failed your powertop bump:

 powertop-2.2-r2: ./csstoh "".""/powertop.css css.h
 powertop-2.2-r2: /bin/sh: ./csstoh: cannot execute binary file
 powertop-2.2-r2: make[2]: *** [css.h] Error 126
2	2	Patch Set 1: Fails

this CL is breaking the CQ.  please try running it against a 32bit x86 board (like x86-alex or x86-generic) before re-submitting.

 make -j32 BUILD=/build/butterfly/tmp/portage/chromeos-base/vboot_reference-1.0-r811/work/vboot_reference-1.0/build-main ARCH=x86 MINIMAL=minimal runtests 
 Using qemu for testing.
    Copying qemu binary.
 cp: cannot stat '/usr/bin/qemu-x86': No such file or directory
 make: *** [qemu_install] Error 1
  * ERROR: chromeos-base/vboot_reference-1.0-r811 failed (test phase):
1	4	What happens if this fails? How do we ensure ssh is killed? Maybe a trap would be more supportable?
1	1	I think this should remain in cleanup() or else it will not be called if the above fails.
1	1	Patch Set 1: Fails

(1 inline comment)

I just tried this change on tot gavd on my waluigi and it didn't detect headphone insertion. I went back to just tot, the change renaming udev_listen -> udev_sound, and it does work.

I know the commands for alsa were not flushed out yet in the max98095 codec, is that the problem right now?
1	1	conf custom can be changed on a live VM?
If not, IMHO tunnelled calculus should be done when we are creating the object and not here.
May be all the virDomainMigrateFlags too.
1	2	IMHO this two functions are unnecessary.
There are only validates (oh my...)
Better if will be done in the level using the parameters.
2	3	Hi,
Correct me if i'm wrong - but, we have 2 instances of commands in the flow you described. This means they do not share state. The change done by Arik adds messages on the canDoActionMessages() collection of each one of the commands. Not sure how you're going to have this mix.
3	1	Patch Set 2:

Greg, 

Thanks for the info.  I agree with your assessment on caching as well.
3	1	I agree that a trailing ""or"" is missing here (though defining a function is_configured and putting the grep's in it would have been better than any commenting. I cannot say that I like duplicating bash logic in English)
3	1	I agree with the above comment ... the above logic change  should be in a separate patch than the channel handling
2	1	I feel like two question are in order, one question to select the firewall manager and not present it if only one is detected or auto selected, this can be saved in answer file.

And the other if you want to apply the setting now.

Or... maybe the other way around... first ask if you want to apply firewall setting, then if selected yes to ask about manager etc...
1	2	No it doesn't ""explode"", I am not changing a sebool, I am changing the file context. Yes a restorecon would un-do the change. We'll need to file a request for that but for now this is good enough.
2	1	Maybe you could add a real description - yes it's just something really minor :)
3	1	Patch Set 12: Code-Review+2

currently our enums reflect the super-set of the devices which are supported. yeah - we are not allow flexibility at this stage.
2	1	Patch Set 1:

I would like Shireesh to approve this as well.
3	2	indeed!
Sorry, I assumed that this function was tested and it seems trivial to me since in Oracle/Sybase this works like a charm
would you mind sending a patch fixing the fn_db_delete_config_values as well and put me as a reviewer ?
thanks
2	1	I don't get it - you do not have the same keys here and in the rpm-based part. We'd like this to be a portability layer, so that Engine should not care if it's RPM or DEB.

Maybe the mapping is impossible - but it does not seem that there's an attempt here.
1	1	maybe: 
The specific reason the vm cannot run. ?
or:
The specific error that is preventing the vm from running. ?
2	1	Please introduce new value in VdcBllErrors for VDSM error related to this command, and also add handling for it in AbstractGlusterBrokerCommand
2	1	Patch Set 2: Fails

Configuring Firewall...                                 [ DONE ]

Starting ovirt-engine Service...                     [ ERROR ]
Error: Can't start the ovirt-engine service
Please check log file /var/log/ovirt-engine/engine-setup_2013_04_04_14_15_27.log for more information
output = None
stderr = None
retcode = 1
Executing command --> 'ls /var/log/ovirt-engine -trll | grep setup | tail -n1 | grep -o ""[^ ]*[.]log$""'
output = engine-setup_2013_04_04_14_15_27.log
2	2	The if condition will be true when isDetailsRequired() == true and volumeName is empty. Will it work? Do you need to add a validation against this scenario?
2	2	you can assign:
 fileExists = os.path.exists(enabledFile) and os.path.exists(disabledFile)
and then use fileExists as boolean, False means one not exists, True means both exists.
2	2	Patch Set 2:

Liron, so lets think:
Reconstruct flow:
Go throught all vds refresh and on case of some exception connect.
Recovery flow:
Go through all vds connect and after that refresh, no need for exception handling on case of exception at refresh.
especially additional refresh.
No need for additional method that u introduced.
Where it is 99% percent common. You already introduced a method that at some flow should return only true and complicated a very simple code. ""right now there is no need to copy the method in my opinion - 99%"" - your change at connectAndRefreshAllUpHosts in order to solve bug at reconstruct flow caused to regression in recovery flow. I don't think that these means 99% common.
2	2	Patch Set 1:

Alon,

Regardless of discussion we have in the bug #996021
calling .disconnect() when sdk instance is no longer
needed is a good change, i think it can confidently
go in.
2	2	Patch Set 2: I would prefer that you didn't submit this

This bug is a duplicate 841534 of and will be handled in http://gerrit.ovirt.org/#/c/6593.

After discussing, the correct behavior is to allow diskless templates, so this patch is no longer relevant.
Please abandon it.


Sorry for the hassle.
2	2	I understand that right not only root is supported by engine, but I prefer that the API layer will pass to the engine all the information that the user provided. Engine may choose to ignore, for now, all users aside for 'root'. 

The way it's written here, is just a bug waiting to happen - tomorrow engine will support other users, and suddenly we will have a bug in the API: some users are not passed on to the engine, for some reason.
1	1	this enabled should be only after no errors at all...
2	1	Patch Set 4: I would prefer that you didn't submit this

Please fix the indent pep8 errors in gluster_cli_tests.py at least.
1	1	Patch Set 20:

Same compilation errors in SshSoftFencingCommand and VdsStaticDAODbFacadeImpl as I wrote about in PS19 comments
1	2	Patch Set 1:

michael, it is a flag to protect against accidental deletion.
i.e., engine will fail a request to delete a VM/template which has this flag.
user would need to disable this flag before they delete the VM.
this would be similar to amazon 'termination protection'[1]
in ovirt, terminate == delete

[1] http://aws.typepad.com/aws/2011/02/new-console-features-forced-detach-termination-protection.html
2	1	Patch Set 7: Fails

well - we seem to have a race where we fail to connect to socket after migration, and guest information is not reported, adding logs on one host seem to 'resolve' the issue.
also, why we call for unregister socket 3 times on migration scenario ?
1	1	this will clearly fail - you must to initialize jobProperties first....
1	1	You handle the failure once
1	1	Patch Set 2:

The Jenkins failure is an unrelated foobar.
1	1	This does not really explain what the issue was.

When new SD creation failed, failure status was not checked and flow continued to try and attach the SD to a pool which obviously failed and returned a storage domain not found error instead of the creation failure.
SD creation status is now checked before proceeding.
2	1	does getVds() return anything here? i can't see it is initialized so looks like NPE here. anyway the host which failed to connect should be returned from ConnectAllHostsToLun command, as the connection to all of the pool hosts is done inside it.
2	1	Because this script is called as well from
    [root@f19_1]~# cat /usr/lib/systemd/system/vdsm-restore-net-config.service 
    [Unit]
    Description=Restore failed Vdsm network configuration on boot
    Requires=libvirtd.service
    Before=vdsmd.service

    [Service]
    Type=oneshot
    RemainAfterExit=yes
    ExecStart=/usr/share/vdsm/vdsm-restore-net-config

    [Install]
    WantedBy=multi-user.target

And it is useful to have the logging go the the supervdsm one.
1	1	Patch Set 13: Fails

well, looks much better, you fixed the alerts, but in iscsi, block master domain, i get attribute error on missing (dom):

MainThread::WARNING::2011-12-08 18:32:40,319::hsm::2578::Storage.HSM::(prepareForShutdown) Failed to stop RepoStats thread
Traceback (most recent call last):
  File ""/usr/share/vdsm/storage/hsm.py"", line 2576, in prepareForShutdown
    self.pools[spUUID].stopRepoStats(dom)
AttributeError: 'setMaxHostID' object has no attribute 'stopRepoStats'
2	2	Will we miss adding the server if the status change command failed on it? I guess we should add it if it fails with ""already enabled"" error. Not sure what we should do if there is some other error though. Maybe we should let the sync job handle such cases.
2	1	Patch Set 2: Verified

verified behavior.
There is a problem when selecting a key and value remains empty: Validation isn't being performed on the client side and it fails on validation on the engine-core instead (i.e. CanDoAction).
Can be fixed later in a separate patch.
2	1	Patch Set 2: Fails

Configuring Firewall...                                 [ DONE ]

Starting ovirt-engine Service...                     [ ERROR ]
Error: Can't start the ovirt-engine service
Please check log file /var/log/ovirt-engine/engine-setup_2013_04_04_14_15_27.log for more information
output = None
stderr = None
retcode = 1
Executing command --> 'ls /var/log/ovirt-engine -trll | grep setup | tail -n1 | grep -o ""[^ ]*[.]log$""'
output = engine-setup_2013_04_04_14_15_27.log
2	1	Patch Set 2: Looks good to me, but someone else must approve

(3 inline comments)

reading the code it looks okay to me. just minor things (can be done upon commit imho)
2	1	This is already done by getValue(). I think checkbox & radio are the only ViewHelpers that need direct access to the ""property value"" so I would move that ""getLastSubmittedFormData()"" up to the ViewHelper in those cases to minimize side effects.
2	3	Patch Set 6: I would prefer that you didn't submit this

I like it, but it fails:

* A fatal is triggered if the _extensions table is empty (test: just truncate the table)
* After update a refresh / reload should be done (or something), so the date is then current, or this should be handled by JS answer?
3	1	Patch Set 6:

@Kay: Well, that's exactly what I am saying. It has been like this ever before and has not much to do with the card layout (but I agree that it is a bit more prominent now).

If you edit a record in the upper right corner there is a button which opens this record in a new window. If you do this and go back to the original window and continue editing the same record you have exactly the same problem, it was there for ""ages"".

But OK it is a nice feature and I will not discuss the commit message any more, no one will care until it is merged anyway.
3	2	Patch Set 1: I would prefer that you didn't submit this

Hi ananth,
I agree with Markus that I'm in favor of not merging this.

What xml parser ate you using that is not capable of empty, closing tags? Esp. if you set the HTML tendering mode to XHTML, the output is a subset of XML.

If you need to have empty closing tags replaced by q dedicated closing tag for a special use case, you could ask on http://forum.typo3.org to figure out a solution for you. I'm confident that it's possible, however I would not change TYPO3's default behavior.
Thanks for your understanding.

Yours Steffen
4	1	Patch Set 1: I would prefer that you didn't submit this

I agree with the first reviewer, turning the condition around will make it better readable. Besides that, great idea and solution!
1	1	Patch Set 6:

Except for my spaces nitpicking, yes ;-)
2	1	Patch Set 2:

as this is pending for almost 10 months now, what should be the next steps? Do we want that, if yes we need a ticket in forge, Release info in commit message and probably the unit test changes. I can at least create the ticket and change the commit message, if anyone cares to comment on it here. Stephan woudl you provide the changed tests? 
Otherwise we probably should drop the change.
2	1	I would say this has never worked - as we do not support string comparisons in fluid so far. Thus, {std.value} == yes always equals to TRUE.
1	2	Patch Set 4: Code-Review+2

Now it looks good, yeah it worked in the first patch set but the rebase missed the comma
3	1	Patch Set 3: Code-Review-1

@Sebastian: Yeah we already discussed that, but since we don't have time to implement promises or similar for 1.0 it's still better than before. So for now we make sure to fetch the stuff early, but I agree we should add a TODO in there
1	1	mh yeah will be removed with next push...
2	1	Patch Set 1: I would prefer that you didn't submit this

Seems like you commited some too much ;)
2	2	Patch Set 5: Looks good to me, but someone else must approve

Rebased with current master

Took comments into account. Using 4.3 in deprecation log as it is like that in config_default but using @deprecated with 4.6 and remove in 4.8 to stick to our rules.
3	3	Patch Set 4:

Although already merged, I don't think this is the right solution. 

Currently the behavior of the permissions system (TCEmain and thus also all other components) is to use ""checkLanguageAccess"" only if the TCA for the table has a ""languageField"".

""pages"" is not such a table, because there is ""pages_language_overlay"". So the current integrators solution to restrict a user not to be able to edit the ""Original Language"" is to remove the permissions for editing table ""pages"" and only allow ""pages_language_overlay"". See also http://forge.typo3.org/issues/27794

This is not what is being done in the patch, but instead you simply check for checkLanguageAccess.

Similar problem we have in the ""List view"", as the context menu provides more options (i.e. for content elements) than really permitted. Permission check in TCEmain is more ""aggressive"" than in the GUI.

Correct solution for this particular fix would be to check if user has ""edit permissions"" on the ""pages"" table - just like TCEmain also does.

As this is confusing for integrators in general, I would rather propose that someone thinks about a better approach on ""language restriction permissions on pages"" in the first place before fixing the GUI.

I am undecided still if we should revert this merge, but I am currently pretty sure we should not backport that to 4.5.

Maybe in your research you find out different aspects than I did or you can prove me wrong as I have only touched the ""surface"" of the whole complex. Please let me know!
1	1	whitespace error (no trailing whitespace is allowed according to CGL)
2	1	please phrase commit messages as solution, not as error description (even if that'll be ""...not anymore"" or so...)
2	4	Patch Set 1:

Sorry, the news be module is completely broken for me ... sql error, then namespace errors ...

but the news be module with 4-7 suffers from the exact error my patch has fixed which would be reintroduced with this ""fix"".

On top of that, there is no point to check for the object we just created, thus we either remove the check, then we are back to the state before my patch which creates a warning.

Please tell me the exact error that happens, otherwise I can not reproduce the regression.
2	1	This seems a bit error prone and hacky to me. What if $contentContext->getInaccessibleContentShown() was TRUE before. It would be FALSE afterwards (probably not relevant here, but maybe elsewhere).
What about a second argument in ""getNode()"" that allows to even fetch hidden/protected nodes?
2	2	maybe add TRUE as the third argument for using strict comparisons?
2	2	I read it as alternatives to TRUE are ... so all upper case would still be the default. But, actually, I would not mention the alternatives at all.
2	2	Patch Set 1: Abandoned

TYPO3 4.6 branch is at the end of bug fixing period. Only priority changes will be considered (compatibility fixes and security fixes) until end of April 2013.
2	2	Patch Set 4:

The indexer usage was not changed, it just fixes the bug and it works. :) Adapting to the new indexer is yet another task, of course.
2	2	I know - but maybe it would make sense to correct it right away instead of creating a separate bug report which doubles or triples the effort to get it done...
3	1	Patch Set 3:

I have a separate TYPO3 installation running in an alias on the main site - that is in /home/. So domain.com is one TYPO3 installation and /home/ is a separate one using alias in Apache.

This works fine given that config.absRefPrefix is set to http://domain.com/home/

The automatically created JS and CSS has the filename http://domain.com/typo3temp/.... in the compressor. So conceptually it is actually not an external CSS/JS, but because of the absRefPrefix - TYPO3 think it is external.

Does the above make sense?

This patch fixes the errors in the log where php tries to execute filemtime(""/home/domain.com/home/htdocs/http://domain.com/home/typo3temp..."")
2	1	Patch Set 1: Looks good to me, but someone else must approve

Just fix those three whitespace errors in the test class.
2	1	Patch Set 2: Verified by team member; Looks good to me, approved

I could not reproduce the errors - however the changes look straight-forward.
1	1	Will fail with: ""uid , pid , crdate"".

I think the following would be better:
/(^s*|,s*)uid(s*,|s*$)/

I added space checks on both sides because TS objects can be also created programmatically, so spaces are not necessarily trimmed.
2	1	Patch Set 6: Fails; Looks good to me, but someone else must approve

Rebased on master. The changes introduced come from I076a02096fb62bb1b8a51d888287d68c6ca26965, which was merged after the ""security"" topic was rebased, reviewed and verified by Robert.

That change also reactivated a number of tests, of which three still fail in this state of the codebase.
2	1	Patch Set 2: Fails

unit tests fail for me, please hold on (investigating)
1	1	Patch Set 4:

The failure has to do with the locales available on my system. de_DE.UTF-8 is not available, but when I change it to en_US.UTF-8 the test is ok.
2	2	Patch Set 5: Verified by team member; Looks good to me, approved

The last patch set adds an @outputBuffering to the test Bastian added to avoid failure when running PHPUnit in strict mode.

Submitting with prior approval.
2	3	Patch Set 2: Looks good to me, but someone else must approve

Looks good to me.

I consider the possibility of a fatal failure in (core) development context no big problem, as a core developer should know how the caching works.
1	1	Patch Set 2:

Build Failed 

http://ci.typo3.robertlemke.net/job/TYPO3-Neos-Review/2721/ : Build failed
2	1	Would be nice to have some errors thrown here if property setting failed. I just tried to set templateRootPathPattern instead of templateRootPath, which failed silently because there is no pubic setter for the *pattern property.
1	1	Patch Set 1:

Build Failed 

http://ci.typo3.robertlemke.net/job/TYPO3-Neos-Review/2722/ : Build failed
3	2	Patch Set 1: Fails

@Aske, really nice UI changes and the image GUI has improved a lot.

One thins thou when trying to hide and element on a page which not has been published. An exception is thrown, maybe something that should be handled inside the PHP code instead.
4	2	Patch Set 1:

Thanks for your reviews.

To be honest, it would be nice, if you could be a bit more friendly to - not first time in case of Thomas, but occasional - contributors. IMHO one or two -1 are enough for the beginning.

Bjrn and Philipp, you're really helpful contributors, thanks for that. We were discussing the ""patch for a patch rule"" over the last days, which we enjoined on ourselves as core team members some time ago (and it works in at least most of the cases I think).

Please don't treat this as harsh words, I just want to make you aware of the fact that motivating every new contributor is very important for us, and hopefully also for you as an essential part of the TYPO3 community.

Thanks for your support!
Steffen

P.S: The reason, why Jenkins fails is probably, because of the parent commit is very old and the patch has to be rebased. Will try to get this done now (if network connection allows)
1	1	Patch Set 4:

I uploaded a patch set 4 which uses a VariableFrontend for TCA caching.

But now the test ""loadBaseTcaCreatesCacheFileWithContentOfAnExtensionsConfigurationTcaPhpFile"" fails.
